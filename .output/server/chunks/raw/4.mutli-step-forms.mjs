// ROLLUP_NO_REPLACE 
 const _4_mutliStepForms = "{\"parsed\":{\"_path\":\"/documentation/guides/mutli-step-forms\",\"_dir\":\"guides\",\"_draft\":false,\"_partial\":false,\"_locale\":\"\",\"title\":\"Multi step forms\",\"description\":\"Utils to create stepper forms in multiple pages\",\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Create pages for the form\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Tairo provide helpers to build multiple page forms. This can be useful when you have a form that is too long to be displayed in a single page.\"}]},{\"type\":\"element\",\"tag\":\"doc-message\",\"props\":{\"color\":\"muted-contrast\",\"icon\":\"ph:question\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"This feature relies on nested routes and provide/inject to share data between the pages.\"}]}]},{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"├── .app/\\n│   ├── pages/\\n│   │   ├── my-form/\\n│   │   │   ├── index.vue # First step\\n│   │   │   ├── my-step-2.vue # Second step\\n│   │   │   ├── my-step-3.vue # Thrid step\\n│   │   │   └── review.vue # Final step\\n│   │   └── my-form.vue # Parent page\\n\",\"filename\":\"pages structure overview\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"├── .app/\\n│   ├── pages/\\n│   │   ├── my-form/\\n│   │   │   ├── index.vue # First step\\n│   │   │   ├── my-step-2.vue # Second step\\n│   │   │   ├── my-step-3.vue # Thrid step\\n│   │   │   └── review.vue # Final step\\n│   │   └── my-form.vue # Parent page\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The parent page \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"my-form.vue\"}]},{\"type\":\"text\",\"value\":\" will contain the form definition and be responsible for the form state.\\nIt also should contains a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"<NuxtPage />\"}]},{\"type\":\"text\",\"value\":\" component to render the current step and use \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"provideMultiStepForm\"}]},{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"my-form/\"}]},{\"type\":\"text\",\"value\":\" folder contains the different steps of the form, \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"index.vue\"}]},{\"type\":\"text\",\"value\":\" being the first step. Each step can then use \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"useMultiStepForm\"}]},{\"type\":\"text\",\"value\":\" to access the form state and methods.\"}]},{\"type\":\"element\",\"tag\":\"hr\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Useful resources:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://nuxt.com/docs/guide/directory-structure/pages#nested-routes\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Nested Routes on nuxt.com\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://router.vuejs.org/guide/essentials/nested-routes.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Nested Routes on router.vuejs.org\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://vuejs.org/guide/components/provide-inject.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Provide/Inject documentation on vuejs.org\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Define steps metadata and initial state\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"First we need to define types for the form data and the steps metadata, this is optional but can be useful to have better type checking.\"}]},{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-ts\"],\"code\":\"// types for the form data\\nexport interface MyFormData {\\n  // step 1\\n  email: string\\n  password: string\\n  passwordCheck: string\\n  // step 2\\n  firstName: string\\n  lastName: string\\n  // step 3\\n  role: string | null\\n}\\n// types for steps metadata\\nexport interface MyFormStepMeta {\\n  name: string\\n  description: string\\n}\\n\",\"filename\":\"<app>/types/my-form.ts\",\"language\":\"ts\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"// types for the form data\\nexport interface MyFormData {\\n  // step 1\\n  email: string\\n  password: string\\n  passwordCheck: string\\n  // step 2\\n  firstName: string\\n  lastName: string\\n  // step 3\\n  role: string | null\\n}\\n// types for steps metadata\\nexport interface MyFormStepMeta {\\n  name: string\\n  description: string\\n}\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Then we can provide our form initial state, our submit method handler and steps definitions using the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"provideMultiStepForm\"}]},{\"type\":\"text\",\"value\":\" function in our parent page.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Steps items requires a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"to\"}]},{\"type\":\"text\",\"value\":\" property that should be the path to the step page.\\nThe a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"meta\"}]},{\"type\":\"text\",\"value\":\" property is optional but can be useful to render the steps in the UI.\\nAnother optional property is \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"validate\"}]},{\"type\":\"text\",\"value\":\" that can be used to validate the form data before moving to the next step, we will see how to use it later.\"}]},{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{\":expandable\":\"true\",\"expandable\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst initialState = ref<MyFormData>({\\n  // step 1\\n  email: '',\\n  password: '',\\n  passwordCheck: '',\\n  // step 2\\n  firstName: '',\\n  lastName: '',\\n  // step 3\\n  role: null,\\n})\\n\\nconst {\\n  reset,\\n  handleSubmit,\\n} = provideMultiStepForm<MyFormData, MyFormStepMeta>({\\n  initialState,\\n\\n  async onSubmit(values) {\\n    console.log('Form submitted', values)\\n  },\\n\\n  steps: [\\n    {\\n      to: '/my-form',\\n      meta: {\\n        name: 'Step 1', description: 'Login details'\\n      },\\n    },\\n    {\\n      to: '/my-form/my-step-2',\\n      meta: {\\n        name: 'Step 2', description: 'Account info'\\n      },\\n    },\\n    {\\n      to: '/my-form/my-step-3',\\n      meta: {\\n        name: 'Step 3', description: 'Account role'\\n      },\\n    },\\n    {\\n      to: '/my-form/review',\\n      meta: { \\n        name: 'Step 4', description: 'Review account creation'\\n      },\\n    },\\n  ],\\n})\\n\\n\\n// you can fetch data here and provide it to the form, \\n// as mutating the initialState won't trigger form state update, \\n// unless you call reset()\\nconst { data } = useFetch<MyFormData>('/api/my-form-data')\\nwatch(data, (value) => {\\n  if (value) {\\n    initialState.value = value\\n    reset()\\n  }\\n}, { immediate: true })\\n</script>\\n\\n<template>\\n  <main>\\n    <MyFormHeader />\\n\\n    <form @submit.prevent=\\\"handleSubmit\\\">\\n      <div class=\\\"mb-8\\\">\\n        <NuxtPage />\\n      </div>\\n\\n      <MyFormActions />\\n    </form>\\n  </main>\\n</template>\\n\",\"filename\":\"my-form.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst initialState = ref<MyFormData>({\\n  // step 1\\n  email: '',\\n  password: '',\\n  passwordCheck: '',\\n  // step 2\\n  firstName: '',\\n  lastName: '',\\n  // step 3\\n  role: null,\\n})\\n\\nconst {\\n  reset,\\n  handleSubmit,\\n} = provideMultiStepForm<MyFormData, MyFormStepMeta>({\\n  initialState,\\n\\n  async onSubmit(values) {\\n    console.log('Form submitted', values)\\n  },\\n\\n  steps: [\\n    {\\n      to: '/my-form',\\n      meta: {\\n        name: 'Step 1', description: 'Login details'\\n      },\\n    },\\n    {\\n      to: '/my-form/my-step-2',\\n      meta: {\\n        name: 'Step 2', description: 'Account info'\\n      },\\n    },\\n    {\\n      to: '/my-form/my-step-3',\\n      meta: {\\n        name: 'Step 3', description: 'Account role'\\n      },\\n    },\\n    {\\n      to: '/my-form/review',\\n      meta: { \\n        name: 'Step 4', description: 'Review account creation'\\n      },\\n    },\\n  ],\\n})\\n\\n\\n// you can fetch data here and provide it to the form, \\n// as mutating the initialState won't trigger form state update, \\n// unless you call reset()\\nconst { data } = useFetch<MyFormData>('/api/my-form-data')\\nwatch(data, (value) => {\\n  if (value) {\\n    initialState.value = value\\n    reset()\\n  }\\n}, { immediate: true })\\n</script>\\n\\n<template>\\n  <main>\\n    <MyFormHeader />\\n\\n    <form @submit.prevent=\\\"handleSubmit\\\">\\n      <div class=\\\"mb-8\\\">\\n        <NuxtPage />\\n      </div>\\n\\n      <MyFormActions />\\n    </form>\\n  </main>\\n</template>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst { \\n  steps,\\n  progress,\\n  currentStep,\\n} = useMultiStepForm<MyFormData, MyFormStepMeta>()\\n</script>\\n\\n<template>\\n  <BaseHeading class=\\\"mb-4 flex items-center gap-1\\\">\\n    <span>My form:</span>\\n\\n    <BaseDropdown\\n      variant=\\\"text\\\"\\n      :label=\\\"currentStep.meta.name\\\"\\n    >\\n      <BaseDropdownItem\\n        v-for=\\\"step in steps\\\"\\n        :key=\\\"step.id\\\"\\n        :to=\\\"step.id < currentStep.id ? step.to : undefined\\\"\\n        :disabled=\\\"step.id > currentStep.id\\\"\\n      >\\n        {{ step.meta.name }}\\n\\n        <template #text>\\n          {{ step.meta.description }}\\n        </template>\\n        <template #end>\\n          <Icon\\n            v-if=\\\"step.id < currentStep.id\\\"\\n            name=\\\"lucide:check-circle\\\"\\n            class=\\\"text-success-500 size-4\\\"\\n          />\\n        </template>\\n      </BaseDropdownItem>\\n    </BaseDropdown>\\n\\n    <BaseProgressCircle :value=\\\"progress\\\" :size=\\\"20\\\" />\\n  </BaseHeading>\\n</template>\\n\",\"filename\":\"MyFormHeader.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst { \\n  steps,\\n  progress,\\n  currentStep,\\n} = useMultiStepForm<MyFormData, MyFormStepMeta>()\\n</script>\\n\\n<template>\\n  <BaseHeading class=\\\"mb-4 flex items-center gap-1\\\">\\n    <span>My form:</span>\\n\\n    <BaseDropdown\\n      variant=\\\"text\\\"\\n      :label=\\\"currentStep.meta.name\\\"\\n    >\\n      <BaseDropdownItem\\n        v-for=\\\"step in steps\\\"\\n        :key=\\\"step.id\\\"\\n        :to=\\\"step.id < currentStep.id ? step.to : undefined\\\"\\n        :disabled=\\\"step.id > currentStep.id\\\"\\n      >\\n        {{ step.meta.name }}\\n\\n        <template #text>\\n          {{ step.meta.description }}\\n        </template>\\n        <template #end>\\n          <Icon\\n            v-if=\\\"step.id < currentStep.id\\\"\\n            name=\\\"lucide:check-circle\\\"\\n            class=\\\"text-success-500 size-4\\\"\\n          />\\n        </template>\\n      </BaseDropdownItem>\\n    </BaseDropdown>\\n\\n    <BaseProgressCircle :value=\\\"progress\\\" :size=\\\"20\\\" />\\n  </BaseHeading>\\n</template>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst {\\n  loading,\\n  complete,\\n  isLastStep,\\n  getPrevStep,\\n} = useMultiStepForm<MyFormData, MyFormStepMeta>()\\n</script>\\n\\n<template>\\n  <BaseButtonGroup>\\n    <BaseButton\\n      :to=\\\"getPrevStep()?.to\\\"\\n      :disabled=\\\"!getPrevStep()?.to\\\"\\n    >\\n      Previous\\n    </BaseButton>\\n\\n    <BaseButton\\n      type=\\\"submit\\\"\\n      color=\\\"primary\\\"\\n      :loading=\\\"loading\\\"\\n      :disabled=\\\"loading || complete\\\"\\n    >\\n      {{ isLastStep ? 'Submit' : 'Continue' }}\\n    </BaseButton>\\n  </BaseButtonGroup>\\n</template>\\n\",\"filename\":\"MyFormActions.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst {\\n  loading,\\n  complete,\\n  isLastStep,\\n  getPrevStep,\\n} = useMultiStepForm<MyFormData, MyFormStepMeta>()\\n</script>\\n\\n<template>\\n  <BaseButtonGroup>\\n    <BaseButton\\n      :to=\\\"getPrevStep()?.to\\\"\\n      :disabled=\\\"!getPrevStep()?.to\\\"\\n    >\\n      Previous\\n    </BaseButton>\\n\\n    <BaseButton\\n      type=\\\"submit\\\"\\n      color=\\\"primary\\\"\\n      :loading=\\\"loading\\\"\\n      :disabled=\\\"loading || complete\\\"\\n    >\\n      {{ isLastStep ? 'Submit' : 'Continue' }}\\n    </BaseButton>\\n  </BaseButtonGroup>\\n</template>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Create steps pages\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Once we have our parent page setup, we can create the steps pages under the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"my-form/\"}]},{\"type\":\"text\",\"value\":\" directory.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We will be able to access form context with \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"useMultiStepForm\"}]},{\"type\":\"text\",\"value\":\" composable.\\nIf you omit to call \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"provideMultiStepForm\"}]},{\"type\":\"text\",\"value\":\" in the parent page, you will get an error when trying to use \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"useMultiStepForm\"}]},{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"doc-message\",\"props\":{\"color\":\"muted-contrast\",\"icon\":\"ph:question\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Check the form context reference bellow to see all the available methods and properties returned by \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"useMultiStepForm\"}]},{\"type\":\"text\",\"value\":\" and \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"provideMultiStepForm\"}]},{\"type\":\"text\",\"value\":\".\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"And there are pages examples to use with our form:\"}]},{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{\":expandable\":\"true\",\"expandable\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst { data } = useMultiStepForm<MyFormData, MyFormStepMeta>()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseInput\\n      v-model=\\\"data.email\\\"\\n      icon=\\\"lucide:mail\\\"\\n      label=\\\"ایمیل\\\"\\n      type=\\\"email\\\"\\n      placeholder=\\\"you@eltheme.ir\\\"\\n    />\\n    <AddonInputPassword\\n      v-model=\\\"data.password\\\"\\n      icon=\\\"lucide:lock\\\"\\n      label=\\\"Password\\\"\\n    />\\n    <BaseInput\\n      v-model=\\\"data.passwordCheck\\\"\\n      icon=\\\"lucide:lock\\\"\\n      label=\\\"Password verification\\\"\\n      type=\\\"password\\\"\\n    />\\n  </div>\\n</template>\\n\",\"filename\":\"index.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nimport type { MyFormData, MyFormStepMeta } from '~/types/my-form'\\n\\nconst { data } = useMultiStepForm<MyFormData, MyFormStepMeta>()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseInput\\n      v-model=\\\"data.email\\\"\\n      icon=\\\"lucide:mail\\\"\\n      label=\\\"ایمیل\\\"\\n      type=\\\"email\\\"\\n      placeholder=\\\"you@eltheme.ir\\\"\\n    />\\n    <AddonInputPassword\\n      v-model=\\\"data.password\\\"\\n      icon=\\\"lucide:lock\\\"\\n      label=\\\"Password\\\"\\n    />\\n    <BaseInput\\n      v-model=\\\"data.passwordCheck\\\"\\n      icon=\\\"lucide:lock\\\"\\n      label=\\\"Password verification\\\"\\n      type=\\\"password\\\"\\n    />\\n  </div>\\n</template>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nconst { data } = useMultiStepForm()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseInput\\n      v-model=\\\"data.firstName\\\"\\n      label=\\\"First name\\\"\\n      icon=\\\"lucide:user\\\"\\n      placeholder=\\\"جان\\\"\\n    />\\n    <BaseInput\\n      v-model=\\\"data.lastName\\\"\\n      label=\\\"Last name\\\"\\n      icon=\\\"lucide:user\\\"\\n      placeholder=\\\"Doe\\\"\\n    />\\n  </div>\\n</template>\\n\",\"filename\":\"step-2.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nconst { data } = useMultiStepForm()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseInput\\n      v-model=\\\"data.firstName\\\"\\n      label=\\\"First name\\\"\\n      icon=\\\"lucide:user\\\"\\n      placeholder=\\\"جان\\\"\\n    />\\n    <BaseInput\\n      v-model=\\\"data.lastName\\\"\\n      label=\\\"Last name\\\"\\n      icon=\\\"lucide:user\\\"\\n      placeholder=\\\"Doe\\\"\\n    />\\n  </div>\\n</template>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nconst { data } = useMultiStepForm()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseHeading size=\\\"md\\\" weight=\\\"medium\\\">\\n      Select a role\\n    </BaseHeading>\\n    <div class=\\\"flex flex-col space-y-2\\\">\\n      <BaseRadio\\n        v-model=\\\"data.role\\\"\\n        value=\\\"user\\\"\\n        label=\\\"User\\\"\\n      />\\n      <BaseRadio\\n        v-model=\\\"data.role\\\"\\n        value=\\\"moderator\\\"\\n        label=\\\"Moderator\\\"\\n      />\\n      <BaseRadio\\n        v-model=\\\"data.role\\\"\\n        value=\\\"admin\\\"\\n        label=\\\"Admin\\\"\\n      />\\n    </div>\\n  </div>\\n</template>\\n\",\"filename\":\"step-3.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nconst { data } = useMultiStepForm()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseHeading size=\\\"md\\\" weight=\\\"medium\\\">\\n      Select a role\\n    </BaseHeading>\\n    <div class=\\\"flex flex-col space-y-2\\\">\\n      <BaseRadio\\n        v-model=\\\"data.role\\\"\\n        value=\\\"user\\\"\\n        label=\\\"User\\\"\\n      />\\n      <BaseRadio\\n        v-model=\\\"data.role\\\"\\n        value=\\\"moderator\\\"\\n        label=\\\"Moderator\\\"\\n      />\\n      <BaseRadio\\n        v-model=\\\"data.role\\\"\\n        value=\\\"admin\\\"\\n        label=\\\"Admin\\\"\\n      />\\n    </div>\\n  </div>\\n</template>\\n\"}]}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nconst { data } = useMultiStepForm()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseCard class=\\\"p-4\\\">\\n      <pre>{{ data }}</pre>\\n    </BaseCard>\\n  </div>\\n</template>\\n\",\"filename\":\"review.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nconst { data } = useMultiStepForm()\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseCard class=\\\"p-4\\\">\\n      <pre>{{ data }}</pre>\\n    </BaseCard>\\n  </div>\\n</template>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Errors and validation\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"By default, no validation is performed when moving to the next step. You can add a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"validate\"}]},{\"type\":\"text\",\"value\":\" function to the step definition to perform validation before moving to the next step.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"validate\"}]},{\"type\":\"text\",\"value\":\" function get the current form context as argument, in which you can use the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"setFieldError\"}]},{\"type\":\"text\",\"value\":\" method to set an error message for a specific field. If you set an error message for a field and don't return anything within \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"validate\"}]},{\"type\":\"text\",\"value\":\" function, the form won't move to the next step.\"}]},{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{\":expandable\":\"true\",\"expandable\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nprovideMultiStepForm({\\n  // global error handler,\\n  // this will be called when an error is thrown \\n  // in a validate function or in the onSubmit function\\n  async onError(error, context) {\\n    // \\n  },\\n\\n  // ...\\n\\n  steps: [\\n    {\\n      // ...\\n\\n      async validate({ data, setFieldError, resetFieldError }) {\\n        // reset current step errors\\n        resetFieldError(['email', 'password', 'passwordCheck'])\\n\\n        // you can use a validation library like zod or yup\\n        if (!data.value.email) {\\n          setFieldError('email', 'Email is required')\\n        }\\n        else if (!/^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/.test(data.value.email)) {\\n          setFieldError('email', 'Invalid email')\\n        }\\n        else {\\n          // example of async validation\\n          const available = await checkEmailAvailability(data.value.email)\\n          if (!available) {\\n            setFieldError('email', 'Email already used')\\n          }\\n        }\\n\\n        if (!data.value.password) {\\n          setFieldError('password', 'Password is required')\\n        }\\n        else if (data.value.password.length < 6) {\\n          setFieldError('password', 'Password must be at least 6 characters')\\n        }\\n        else if (data.value.password !== data.value.passwordCheck) {\\n          setFieldError('passwordCheck', 'Passwords do not match')\\n        }\\n\\n        // return nothing to let form move only if no errors\\n      },\\n    },\\n  ],\\n})\\n</script>\\n\",\"filename\":\"my-form.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nprovideMultiStepForm({\\n  // global error handler,\\n  // this will be called when an error is thrown \\n  // in a validate function or in the onSubmit function\\n  async onError(error, context) {\\n    // \\n  },\\n\\n  // ...\\n\\n  steps: [\\n    {\\n      // ...\\n\\n      async validate({ data, setFieldError, resetFieldError }) {\\n        // reset current step errors\\n        resetFieldError(['email', 'password', 'passwordCheck'])\\n\\n        // you can use a validation library like zod or yup\\n        if (!data.value.email) {\\n          setFieldError('email', 'Email is required')\\n        }\\n        else if (!/^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/.test(data.value.email)) {\\n          setFieldError('email', 'Invalid email')\\n        }\\n        else {\\n          // example of async validation\\n          const available = await checkEmailAvailability(data.value.email)\\n          if (!available) {\\n            setFieldError('email', 'Email already used')\\n          }\\n        }\\n\\n        if (!data.value.password) {\\n          setFieldError('password', 'Password is required')\\n        }\\n        else if (data.value.password.length < 6) {\\n          setFieldError('password', 'Password must be at least 6 characters')\\n        }\\n        else if (data.value.password !== data.value.passwordCheck) {\\n          setFieldError('passwordCheck', 'Passwords do not match')\\n        }\\n\\n        // return nothing to let form move only if no errors\\n      },\\n    },\\n  ],\\n})\\n</script>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"The \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"setFieldError(key, message)\"}]},{\"type\":\"text\",\"value\":\" method populate the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"errors.fields[key]\"}]},{\"type\":\"text\",\"value\":\" object in the form context, which can be used to display errors in the UI.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"In addition, we need to ensure on page load that previous steps are valid, as the user can navigate directly to a step page. We can do this by calling the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"checkPreviousSteps\"}]},{\"type\":\"text\",\"value\":\" method in the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[]},\"children\":[{\"type\":\"text\",\"value\":\"onBeforeMount\"}]},{\"type\":\"text\",\"value\":\" hook inside our steps pages.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"We can update our form pages to display errors on the fields and check previous steps (only relevant parts are shown):\"}]},{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-vue\"],\"code\":\"<script setup lang=\\\"ts\\\">\\nconst { errors, checkPreviousSteps } = useMultiStepForm()\\n\\nonBeforeMount(checkPreviousSteps)\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseInput\\n      :error=\\\"errors.fields.email\\\"\\n    />\\n    <AddonInputPassword\\n      :error=\\\"errors.fields.password\\\"\\n    />\\n    <BaseInput\\n      :error=\\\"errors.fields.passwordCheck\\\"\\n    />\\n  </div>\\n</template>\\n\",\"filename\":\"index.vue\",\"language\":\"vue\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<script setup lang=\\\"ts\\\">\\nconst { errors, checkPreviousSteps } = useMultiStepForm()\\n\\nonBeforeMount(checkPreviousSteps)\\n</script>\\n\\n<template>\\n  <div class=\\\"max-w-sm space-y-2\\\">\\n    <BaseInput\\n      :error=\\\"errors.fields.email\\\"\\n    />\\n    <AddonInputPassword\\n      :error=\\\"errors.fields.password\\\"\\n    />\\n    <BaseInput\\n      :error=\\\"errors.fields.passwordCheck\\\"\\n    />\\n  </div>\\n</template>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Form context reference\"},\"children\":[{\"type\":\"element\",\"tag\":\"code-group\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-ts\"],\"code\":\"export interface MultiStepFormContext<\\n  DATA extends Record<string, any> = Record<string, any>,\\n  META extends Record<string, any> = Record<string, any>,\\n> {\\n  steps: ComputedRef<WithId<StepForm<DATA, META>>[]>\\n  totalSteps: ComputedRef<number>\\n  currentStepId: ComputedRef<number>\\n  currentStep: ComputedRef<WithId<StepForm<DATA, META>>>\\n  progress: ComputedRef<number>\\n  isLastStep: ComputedRef<boolean>\\n  data: Ref<UnwrapRef<DATA>>\\n  errors: Readonly<Ref<{\\n    message: string\\n    fields: Record<string, string | undefined>\\n  }>>\\n  loading: Readonly<Ref<boolean>>\\n  complete: Readonly<Ref<boolean>>\\n\\n  getStep(id?: number): WithId<StepForm<DATA, META>> | undefined\\n  getNextStep(id?: number): WithId<StepForm<DATA, META>> | null\\n  getPrevStep(id?: number): WithId<StepForm<DATA, META>> | null\\n  goToStep(step?: WithId<StepForm<DATA, META>>): Promise<void>\\n  reset(initialState?: MaybeRefOrGetter<DATA>): void\\n  setErrorMessage(message?: string): void\\n  setFieldError(field: string, message?: string): void\\n  resetFieldError(field?: string | string[]): void\\n\\n  validateStep(step?: WithId<StepForm<DATA, META>>): Promise<boolean>\\n  handleSubmit(): Promise<void>\\n  checkPreviousSteps(): Promise<void>\\n}\\n\",\"filename\":\"MultiStepFormContext\",\"language\":\"ts\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"export interface MultiStepFormContext<\\n  DATA extends Record<string, any> = Record<string, any>,\\n  META extends Record<string, any> = Record<string, any>,\\n> {\\n  steps: ComputedRef<WithId<StepForm<DATA, META>>[]>\\n  totalSteps: ComputedRef<number>\\n  currentStepId: ComputedRef<number>\\n  currentStep: ComputedRef<WithId<StepForm<DATA, META>>>\\n  progress: ComputedRef<number>\\n  isLastStep: ComputedRef<boolean>\\n  data: Ref<UnwrapRef<DATA>>\\n  errors: Readonly<Ref<{\\n    message: string\\n    fields: Record<string, string | undefined>\\n  }>>\\n  loading: Readonly<Ref<boolean>>\\n  complete: Readonly<Ref<boolean>>\\n\\n  getStep(id?: number): WithId<StepForm<DATA, META>> | undefined\\n  getNextStep(id?: number): WithId<StepForm<DATA, META>> | null\\n  getPrevStep(id?: number): WithId<StepForm<DATA, META>> | null\\n  goToStep(step?: WithId<StepForm<DATA, META>>): Promise<void>\\n  reset(initialState?: MaybeRefOrGetter<DATA>): void\\n  setErrorMessage(message?: string): void\\n  setFieldError(field: string, message?: string): void\\n  resetFieldError(field?: string | string[]): void\\n\\n  validateStep(step?: WithId<StepForm<DATA, META>>): Promise<boolean>\\n  handleSubmit(): Promise<void>\\n  checkPreviousSteps(): Promise<void>\\n}\\n\"}]}]}]}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[]}},\"_type\":\"markdown\",\"_id\":\"content:documentation:50.guides:4.mutli-step-forms.md\",\"_source\":\"content\",\"_file\":\"documentation/50.guides/4.mutli-step-forms.md\",\"_extension\":\"md\"},\"hash\":\"CuLFhEynHD\"}";

export { _4_mutliStepForms as default };
