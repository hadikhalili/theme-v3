import{d as S,P as U,B as F,z as $,r as x,s as T,Q as D,c as o,e as n,i as r,f as s,g as t,w as a,h as l,O as h,U as E,W as G,R as w,S as C,bR as H,l as M,m as O,_ as Q,k as W,C as i,ai as X,L as J}from"./IEdULTv5.js";import{a as K,_ as Y}from"./tR72O8U4.js";import{_ as Z}from"./BEFkdUEj.js";import{u as ee}from"./B4EpaqOd.js";/* empty css        */import"./Ddq59R0r.js";import"./CT3I3ucC.js";import"./87QLUwCG.js";import"./DwsfygbM.js";import"./CHqsusFH.js";import"./7IhlnbcA.js";import"./Ck97bOP3.js";const te={class:"mx-auto max-w-2xl"},se={key:0},ae={class:"bg-muted-200 dark:bg-muted-800/60 rounded-xl p-6"},oe={key:1},ne={class:"my-6 text-center"},le={class:"mx-auto mt-6 flex max-w-xs justify-center"},ce={key:1,class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},re={class:"grid gap-4 sm:grid-cols-2"},ie={class:"mb-6 flex gap-2"},ue={class:"flex items-center justify-between"},de={class:"flex items-center gap-2"},me={class:"text-muted-400 flex items-center gap-4"},_e={class:"flex items-center gap-1 text-sm"},pe={class:"font-sans"},fe={class:"flex items-center gap-1 text-sm"},ge={class:"font-sans"},Ne=S({__name:"index",async setup(xe){let u,v;const V=U(),j=F(),P=$(()=>parseInt(V.query.page??"1")),y=x(""),b=x(25);T([y,b],()=>{j.push({query:{page:void 0}})});const R=$(()=>({filter:y.value,perPage:b.value,page:P.value})),{data:d,pending:q,error:he,refresh:ve}=([u,v]=D(()=>ee("/api/company/projects",{query:R},"$S1U37XCRMc")),u=await u,v(),u),m=x();return(ye,k)=>{const _=M,p=O,f=Q,N=X,A=K,z=W,I=Y,B=Z,L=J;return o(),n("div",te,[!r(q)&&r(d)?.recent.length===0?(o(),n("div",se,[s("div",ae,[t(_,{tag:"h4",size:"lg",weight:"medium"},{default:a(()=>[l(" هیچ پروژه‌ای وجود ندارد ")]),_:1}),t(p,{size:"sm",class:"text-muted-400"},{default:a(()=>[l(" شما به‌تازگی این پروژه‌ها را مشاهده کرده‌اید. ")]),_:1})])])):(o(),n("div",oe,[s("div",ne,[t(f,{name:"ph:square-half-duotone",class:"text-primary-500 mx-auto mb-2 size-10"}),t(_,{tag:"h4",size:"2xl",weight:"medium"},{default:a(()=>[l(" پروژه‌های اخیر شما ")]),_:1}),t(p,{size:"sm",class:"text-muted-400"},{default:a(()=>[l(" اینجا پروژه‌های اخیر شما قابل مشاهده است. ")]),_:1}),s("div",le,[t(I,{modelValue:r(m),"onUpdate:modelValue":k[0]||(k[0]=e=>G(m)?m.value=e:null),items:r(d)?.data,"display-value":e=>e.name,rounded:"lg",icon:"lucide:search",placeholder:"جستجو...",label:"جستجوی پروژه‌ها","label-float":"",clearable:""},{empty:a(({pending:e,query:c})=>[e?(o(),h(N,{key:0})):c?E("",!0):(o(),n("span",ce," مثال: پروژه اپلیکیشن تحویل... "))]),item:a(({item:e,selected:c})=>[t(z,{to:`/layouts/projects/details/${e.slug}`,class:"block"},{default:a(()=>[t(A,{value:{name:e.name,text:`${e.customer.name} | ${e.customer.text}`,media:e.customer.logo},properties:{label:"name",sublabel:"text",media:"media"},selected:c},null,8,["value","selected"])]),_:2},1032,["to"])]),_:1},8,["modelValue","items","display-value"])])]),s("div",re,[t(H,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:a(()=>[(o(!0),n(w,null,C(r(d)?.recent.slice(0,4),(e,c)=>(o(),h(z,{key:c,class:"group block",to:`/layouts/projects/details/${e.slug}`},{default:a(()=>[t(L,{rounded:"lg","elevated-hover":"",class:"group-hover:!border-primary-500 p-5"},{default:a(()=>[s("div",ie,[t(B,{src:e.customer.logo,size:"sm",rounded:"full","data-nui-tooltip":e.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-nui-tooltip"]),s("div",null,[t(_,{tag:"h5",size:"sm",weight:"medium",class:"line-clamp-1"},{default:a(()=>[l(i(e.name),1)]),_:2},1024),t(p,{size:"xs",class:"text-muted-400"},{default:a(()=>[l(i(e.customer.name)+" | "+i(e.customer.text),1)]),_:2},1024)])]),s("div",ue,[s("div",de,[(o(!0),n(w,null,C(e.stacks,g=>(o(),h(B,{key:g.name,src:g.icon,size:"xxs",rounded:"full","data-nui-tooltip":g.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-nui-tooltip"]))),128))]),s("div",me,[s("div",_e,[t(f,{name:"ph:paperclip-duotone",class:"size-4"}),s("span",pe,i(e.files.length),1)]),s("div",fe,[t(f,{name:"ph:users-duotone",class:"size-4"}),s("span",ge,i(e.team.length),1)])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})])]))])}}});export{Ne as default};
