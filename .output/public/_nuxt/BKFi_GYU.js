import{d as K,an as L,ao as Q,al as h,r as Z,ak as ee,z as p,a8 as ne,c as o,e as u,X as s,i as l,N as g,h as B,C as k,U as c,f as m,a5 as C,b0 as E,I as R,W as S,g as b,O as te,w as le,ai as ae,_ as oe,ap as ue}from"./IEdULTv5.js";import{s as f}from"./x_rD_Ya3.js";const se=["for"],ie=["id","type","placeholder","inputmode","disabled"],re=["id","type","placeholder","inputmode","disabled"],de=["for"],ce={key:3,class:"nui-input-number-placeload"},me=["disabled"],pe=["disabled"],ve=K({inheritAttrs:!1,__name:"BaseInputNumber",props:L({min:{default:void 0},max:{default:void 0},step:{default:1},id:{default:void 0},type:{default:"text"},inputmode:{default:void 0},label:{default:void 0},labelFloat:{type:Boolean},icon:{default:void 0},placeholder:{default:void 0},error:{type:[String,Boolean],default:!1},iconDecrement:{default:"lucide:minus"},iconIncrement:{default:"lucide:plus"},colorFocus:{type:Boolean},loading:{type:Boolean},disabled:{type:Boolean},contrast:{default:void 0},rounded:{default:void 0},size:{default:void 0},classes:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(F,{expose:U}){const e=F;function A(n){const a=Number.parseFloat(n);return Number.isNaN(a)?n:a}const[t,O]=Q(F,"modelValue",{set(n){return A(n)}}),P=h(e,"BaseInputNumber","contrast"),V=h(e,"BaseInputNumber","rounded"),M=h(e,"BaseInputNumber","size"),Y={none:"",sm:"nui-input-number-rounded-sm",md:"nui-input-number-rounded-md",lg:"nui-input-number-rounded-lg",full:"nui-input-number-rounded-full"},j={sm:"nui-input-number-sm",md:"nui-input-number-md",lg:"nui-input-number-lg"},G={default:"nui-input-number-default","default-contrast":"nui-input-number-default-contrast",muted:"nui-input-number-muted","muted-contrast":"nui-input-number-muted-contrast"},v=Z(),i=ee(()=>e.id);U({el:v,id:i});const D=p(()=>{if(!e.loading)return e.labelFloat?e.label:e.placeholder}),H=p(()=>{if(!Number.isFinite(e.step)||Number.isNaN(e.step))return 0;let n=1,a=0;for(;Math.round(e.step*n)/n!==e.step;)n*=10,a++;return a}),w=p(()=>10**H.value),z=p(()=>Math.abs(e.step));function $(n){const a=Math.round(n*w.value)/w.value;return Math.max(Math.min(a,e.max??Number.POSITIVE_INFINITY),e.min??Number.NEGATIVE_INFINITY)}function y(){if(!e.disabled){if(t.value===void 0){t.value=0;return}typeof t.value=="number"&&(t.value=$(t.value+z.value))}}function I(){if(!e.disabled){if(t.value===void 0){t.value=0;return}typeof t.value=="number"&&(t.value=$(t.value-z.value))}}let r;function W(){if(e.disabled)return;y();let n=0;r=f(()=>{n++,y(),n>10&&(clearInterval(r),r=f(y,50))},150)}function x(){clearInterval(r)}let d;function X(){if(e.disabled)return;I();let n=0;d=f(()=>{n++,I(),n>10&&(clearInterval(d),d=f(I,50))},150)}function T(){clearInterval(d)}return ne(()=>{clearInterval(r),clearInterval(d)}),(n,a)=>{const q=ae,_=oe,J=ue;return o(),u("div",{class:s(["nui-input-number-wrapper",[l(P)&&G[l(P)],l(M)&&j[l(M)],l(V)&&Y[l(V)],e.error&&!e.loading&&"nui-input-number-error",e.loading&&"nui-input-number-loading",e.labelFloat&&"nui-input-number-label-float",e.icon&&"nui-has-icon",e.colorFocus&&"nui-input-number-focus",e.classes?.wrapper]])},["label"in n.$slots&&!e.labelFloat||e.label&&!e.labelFloat?(o(),u("label",{key:0,class:s(["nui-input-number-label",e.classes?.label]),for:l(i)},[g(n.$slots,"label",{},()=>[B(k(e.label),1)])],10,se)):c("",!0),m("div",{class:s(["nui-input-number-outer",e.classes?.outer])},[m("div",null,[l(O).lazy?C((o(),u("input",R({key:0,id:l(i),ref_key:"inputRef",ref:v,"onUpdate:modelValue":a[0]||(a[0]=N=>S(t)?t.value=N:null),type:e.type},n.$attrs,{class:["nui-input-number",e.classes?.input],placeholder:l(D),inputmode:e.inputmode,disabled:e.disabled}),null,16,ie)),[[E,l(t),void 0,{lazy:!0}]]):C((o(),u("input",R({key:1,id:l(i),ref_key:"inputRef",ref:v,"onUpdate:modelValue":a[1]||(a[1]=N=>S(t)?t.value=N:null),type:e.type},n.$attrs,{class:["nui-input-number",e.classes?.input],placeholder:l(D),inputmode:e.inputmode,disabled:e.disabled}),null,16,re)),[[E,l(t)]]),"label"in n.$slots&&e.labelFloat||e.label&&e.labelFloat?(o(),u("label",{key:2,class:s(["nui-label-float",e.classes?.label]),for:l(i)},[g(n.$slots,"label",{},()=>[B(k(e.label),1)])],10,de)):c("",!0),e.loading?(o(),u("div",ce,[b(q,{class:"nui-placeload"})])):c("",!0),e.icon?(o(),u("div",{key:4,class:s(["nui-input-number-icon",e.classes?.icon])},[g(n.$slots,"icon",{},()=>[b(_,{name:e.icon,class:"nui-input-number-icon-inner"},null,8,["name"])])],2)):c("",!0),m("div",{class:s(["nui-input-number-buttons",e.classes?.buttons])},[m("button",{type:"button","aria-label":"Decrement",onPointerdown:X,onPointerout:T,onPointerup:T,disabled:e.disabled},[b(_,{name:e.iconDecrement},null,8,["name"])],40,me),m("button",{type:"button","aria-label":"Increment",onPointerdown:W,onPointerout:x,onPointerup:x,disabled:e.disabled},[b(_,{name:e.iconIncrement},null,8,["name"])],40,pe)],2)])],2),e.error&&typeof e.error=="string"?(o(),te(J,{key:1,color:"danger",class:s(e.classes?.error)},{default:le(()=>[B(k(e.error),1)]),_:1},8,["class"])):c("",!0)],2)}}});export{ve as _};
