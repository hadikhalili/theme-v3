import{d as I,r as P,B as C,c as D,e as L,f as s,g as e,w as o,h as i,j as O,i as t,C as $,D as z,l as M,m as H,q as j,k as F,n as W,E as G}from"./IEdULTv5.js";import q from"./IFkE8VMb.js";import{_ as Q}from"./BAQZlUep.js";import{u as Z}from"./BE5_i3QV.js";import{_ as X}from"./LX78gOPX.js";import{z as u,u as Y,F as _,t as J}from"./BrTA1Oo6.js";/* empty css        */import"./Czf9FVrn.js";const K={class:"h-screen md:flex"},ee={class:"from-primary-900 to-primary-500 i group relative hidden w-1/2 items-center justify-around overflow-hidden bg-gradient-to-tr md:flex"},te={class:"mx-auto max-w-xs text-center"},oe=z('<div class="bg-muted-200/20 absolute -start-6 -top-6 h-14 w-0 rounded-full transition-all delay-[25ms] duration-300 group-hover:w-72 ltr:origin-top-left ltr:rotate-45 rtl:origin-top-right rtl:-rotate-45"></div><div class="bg-muted-200/20 absolute -top-12 start-20 h-14 w-0 rounded-full transition-all delay-75 duration-300 group-hover:w-48 ltr:origin-top-left ltr:rotate-45 rtl:origin-top-right rtl:-rotate-45"></div><div class="bg-muted-200/20 absolute -start-7 top-24 h-14 w-0 rounded-full transition-all delay-150 duration-300 group-hover:w-40 ltr:origin-top-left ltr:rotate-45 rtl:origin-top-right rtl:-rotate-45"></div><div class="bg-muted-200/20 absolute -bottom-6 -end-6 h-14 w-0 rounded-full transition-all delay-150 duration-300 group-hover:w-72 ltr:origin-bottom-right ltr:rotate-45 rtl:origin-bottom-left rtl:-rotate-45"></div><div class="bg-muted-200/20 absolute -bottom-12 end-20 h-14 w-0 rounded-full transition-all delay-75 duration-300 group-hover:w-48 ltr:origin-bottom-right ltr:rotate-45 rtl:origin-bottom-left rtl:-rotate-45"></div><div class="bg-muted-200/20 absolute -end-7 bottom-24 h-14 w-0 rounded-full transition-all delay-[25ms] duration-300 group-hover:w-40 ltr:origin-bottom-right ltr:rotate-45 rtl:origin-bottom-left rtl:-rotate-45"></div>',6),ae={class:"dark:bg-muted-900 flex flex-col items-center justify-between bg-white py-10 md:w-1/2"},re={class:"mx-auto flex w-full max-w-xs items-center justify-between"},se={class:"mb-4 space-y-3"},le={class:"text-muted-400 mt-4 flex justify-between font-sans text-sm leading-5"},ne=s("span",null,"حساب کاربری دارید؟",-1),de={class:"text-center"},ve=I({__name:"signup-1",setup(ie){const c=P(),g={EMAIL_REQUIRED:"یک ایمیل معتبر لازم است",USERNAME_LENGTH:"نام کاربری باید حداقل ۳ کاراکتر باشد",PASSWORD_LENGTH:"رمز عبور باید حداقل ۸ کاراکتر باشد",PASSWORD_CONTAINS_EMAIL:"رمز عبور نمی‌تواند شامل ایمیل شما باشد",PASSWORD_MATCH:"رمزهای عبور مطابقت ندارند"},B=u.object({username:u.string().min(3,g.USERNAME_LENGTH),email:u.string().email(g.EMAIL_REQUIRED),referralCode:u.string().optional(),password:u.string().min(8,g.PASSWORD_LENGTH),confirmPassword:u.string()}).superRefine((p,a)=>{(c.value?.validation?.feedback?.warning||c.value?.validation?.feedback?.suggestions?.length)&&a.addIssue({code:u.ZodIssueCode.custom,message:c.value?.validation?.feedback?.warning||c.value.validation.feedback?.suggestions?.[0],path:["password"]}),p.password!==p.confirmPassword&&a.addIssue({code:u.ZodIssueCode.custom,message:g.PASSWORD_MATCH,path:["confirmPassword"]})}),E=J(B),T={username:"",email:"",referralCode:"",password:"",confirmPassword:""},{values:b,handleSubmit:A,isSubmitting:m,setFieldError:V}=Y({validationSchema:E,initialValues:T}),R=C(),v=Z(),w=A(async p=>{try{const a=await $fetch("/api/auth/signup",{method:"POST",body:p});v.clearAll(),v.show({title:"موفقیت",message:a.message,color:"success",icon:"ph:user-circle-fill",closable:!0}),R.push("/layouts/onboarding-1")}catch(a){a.data?.errors?a.data.errors.forEach(f=>{V(f.path,f.message)}):v.show({title:"خطا",message:a.data?.message||"خطا در ثبت‌نام",color:"danger",icon:"ph:warning-circle",closable:!0})}});return(p,a)=>{const f=M,x=H,y=j,k=q,S=F,N=Q,h=W,U=G;return D(),L("div",K,[s("div",ee,[s("div",te,[e(f,{as:"h2",size:"3xl",weight:"medium",class:"text-white"},{default:o(()=>[i(" حساب دارید؟ ")]),_:1}),e(x,{size:"sm",class:"text-muted-200 mb-3"},{default:o(()=>[i(" نیازی به هدر دادن زمان در این صفحه نیست، بگذارید شما را به حساب کاربری‌تان برگردانیم ")]),_:1}),e(y,{to:"/auth/login-1",rounded:"lg",class:"w-full"},{default:o(()=>[i(" وارد حساب شوید ")]),_:1})]),oe]),s("div",ae,[s("div",re,[e(S,{to:"/dashboards",class:"text-muted-400 hover:text-primary-500 dark:text-muted-700 dark:hover:text-primary-500 transition-colors duration-300"},{default:o(()=>[e(k,{class:"size-10"})]),_:1}),s("div",null,[e(N)])]),s("form",{method:"POST",action:"",class:"mx-auto w-full max-w-xs",novalidate:"",onSubmit:a[0]||(a[0]=O((...r)=>t(w)&&t(w)(...r),["prevent"]))},[e(f,{as:"h2",size:"3xl",weight:"medium"},{default:o(()=>[i(" به رایکا خوش آمدید ")]),_:1}),e(x,{size:"sm",class:"text-muted-400 mb-6"},{default:o(()=>[i(" بیایید با ایجاد حساب شما شروع کنیم ")]),_:1}),s("div",se,[e(t(_),{name:"username"},{default:o(({field:r,errorMessage:l,handleChange:n,handleBlur:d})=>[e(h,{"model-value":r.value,error:l,disabled:t(m),type:"text",rounded:"lg",placeholder:"نام کاربری",icon:"ph:fingerprint-duotone","onUpdate:modelValue":n,onBlur:d},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1}),e(t(_),{name:"email"},{default:o(({field:r,errorMessage:l,handleChange:n,handleBlur:d})=>[e(h,{"model-value":r.value,error:l,disabled:t(m),type:"email",rounded:"lg",placeholder:"آدرس ایمیل",icon:"ph:at-duotone","onUpdate:modelValue":n,onBlur:d},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1}),e(t(_),{name:"referralCode"},{default:o(({field:r,errorMessage:l,handleChange:n,handleBlur:d})=>[e(h,{"model-value":r.value,error:l,disabled:t(m),type:"text",rounded:"lg",placeholder:"کد معرف (اختیاری)",icon:"ph:qr-code-duotone","onUpdate:modelValue":n,onBlur:d},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1}),e(t(_),{name:"password"},{default:o(({field:r,errorMessage:l,handleChange:n,handleBlur:d})=>[e(t(X),{ref_key:"passwordRef",ref:c,"model-value":r.value,error:l,disabled:t(m),"user-inputs":[t(b).username??"",t(b).email??""],rounded:"lg",placeholder:"رمز عبور",icon:"ph:lock-duotone","onUpdate:modelValue":n,onBlur:d},null,8,["model-value","error","disabled","user-inputs","onUpdate:modelValue","onBlur"])]),_:1}),e(t(_),{name:"confirmPassword"},{default:o(({field:r,errorMessage:l,handleChange:n,handleBlur:d})=>[e(h,{"model-value":r.value,error:l,disabled:t(m),type:"password",rounded:"lg",placeholder:"تأیید رمز عبور",icon:"ph:check","onUpdate:modelValue":n,onBlur:d},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e(y,{disabled:t(m),loading:t(m),type:"submit",rounded:"lg",color:"primary",class:"!h-11 w-full"},{default:o(()=>[i(" ایجاد حساب ")]),_:1},8,["disabled","loading"]),s("p",le,[ne,e(S,{to:"/auth/login-1",class:"text-primary-600 hover:text-primary-500 font-medium underline-offset-4 transition duration-150 ease-in-out hover:underline focus:underline focus:outline-none"},{default:o(()=>[i(" اینجا وارد شوید ")]),_:1})])],32),s("div",de,[e(U,{size:"sm",class:"text-muted-400"},{default:o(()=>[i(" © "+$(new Date().getFullYear())+" تایرو. تمامی حقوق محفوظ است. ",1)]),_:1})])])])}}});export{ve as default};
