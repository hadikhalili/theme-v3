import{d as V,al as $,P as Q,z as C,c as g,e as f,g as r,w as d,N as m,f as K,X as u,i as e,a4 as b,h as D,C as w,U as I,R as q,S as z,k as F,bS as E,_ as T}from"./IEdULTv5.js";const U={key:0},X={key:1},j={key:2},G=V({__name:"BasePagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:3},noRouter:{type:Boolean},routerQueryKey:{default:"page"},previousIcon:{default:"lucide:chevron-left"},nextIcon:{default:"lucide:chevron-right"},ellipsis:{default:"â€¦"},color:{default:void 0},rounded:{default:void 0},classes:{default:()=>({})}},emits:["update:currentPage"],setup(_,{emit:R}){const t=_,h=R,M=$(t,"BasePagination","color"),i=$(t,"BasePagination","rounded"),c={none:"",sm:"nui-pagination-rounded-sm",md:"nui-pagination-rounded-md",lg:"nui-pagination-rounded-lg",full:"nui-pagination-rounded-full"},x={primary:"nui-pagination-primary",dark:"nui-pagination-dark",black:"nui-pagination-black"},S=Q(),l=C(()=>Math.ceil(t.totalItems/t.itemPerPage)||1),k=C(()=>l.value>t.maxLinksDisplayed+2?t.maxLinksDisplayed+2:l.value),v=C(()=>{const a=[];let n=t.currentPage-Math.floor(k.value/2),o=n+(k.value-Math.ceil(k.value%2));n<1&&(n=1,o=n+(k.value-1)),o>l.value&&(o=l.value,n=o-(k.value-1));for(let p=n;p<=o;p+=1)p===n||p===o||a.push(p);return a}),B=C(()=>l.value>1),y=(a=1)=>{if(t.noRouter)return{};const n=Math.max(1,Math.min(a,l.value)),o={...S.query};return t.routerQueryKey&&(o[t.routerQueryKey]=n<=1?void 0:n),{query:o}},P=(a,n=1)=>{const o=Math.max(1,Math.min(n,l.value));if(h("update:currentPage",o),t.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(a,n)=>{const o=F,p=E,N=T;return g(),f("div",{class:u(["nui-pagination",[e(i)&&c[e(i)],e(M)&&x[e(M)],t.classes?.wrapper]])},[r(p,{as:"ul",class:u(["nui-pagination-list",[e(i)&&c[e(i)],t.classes?.list]])},{default:d(()=>[m(a.$slots,"before-pagination"),K("li",null,[r(o,{to:y(1),tabindex:"0",class:u(["nui-pagination-link",[a.currentPage===1&&"nui-active",e(i)&&c[e(i)],t.classes?.link]]),onKeydown:n[0]||(n[0]=b(s=>s.target.click(),["space"])),onClick:n[1]||(n[1]=s=>P(s,1))},{default:d(()=>[D(" 1 ")]),_:1},8,["to","class"])]),e(B)&&e(v).length>0&&e(v)[0]>2?(g(),f("li",U,[K("span",{class:u(["nui-pagination-ellipsis",[e(i)&&c[e(i)],t.classes?.ellipsis]])},w(t.ellipsis),3)])):I("",!0),(g(!0),f(q,null,z(e(v),s=>(g(),f("li",{key:s},[r(o,{to:y(s),tabindex:"0","aria-current":a.currentPage===s?"page":void 0,class:u(["nui-pagination-link",[a.currentPage===s&&"nui-active",e(i)&&c[e(i)],t.classes?.link]]),onKeydown:n[2]||(n[2]=b(L=>L.target.click(),["space"])),onClick:L=>P(L,s)},{default:d(()=>[D(w(s),1)]),_:2},1032,["to","aria-current","class","onClick"])]))),128)),e(B)&&e(v)[e(v).length-1]<e(l)-1?(g(),f("li",X,[K("span",{class:u(["nui-pagination-ellipsis",[e(i)&&c[e(i)],t.classes?.ellipsis]])},w(t.ellipsis),3)])):I("",!0),e(B)?(g(),f("li",j,[r(o,{to:y(e(l)),tabindex:"0",class:u(["nui-pagination-link",[a.currentPage===e(l)&&"nui-active",e(i)&&c[e(i)],t.classes?.link]]),onKeydown:n[3]||(n[3]=b(s=>s.target.click(),["space"])),onClick:n[4]||(n[4]=s=>P(s,e(l)))},{default:d(()=>[D(w(e(l)),1)]),_:1},8,["to","class"])])):I("",!0),m(a.$slots,"after-pagination")]),_:3},8,["class"]),r(p,{class:u(["nui-pagination-buttons",[e(i)&&c[e(i)],t.classes?.buttons]])},{default:d(()=>[m(a.$slots,"before-navigation"),r(o,{to:y(a.currentPage-1),tabindex:"0",class:u(["nui-pagination-button",t.classes?.button]),onKeydown:n[5]||(n[5]=b(s=>s.target.click(),["space"])),onClick:n[6]||(n[6]=s=>P(s,a.currentPage-1))},{default:d(()=>[m(a.$slots,"previous-icon",{},()=>[r(N,{name:a.previousIcon,class:"pagination-button-icon"},null,8,["name"])])]),_:3},8,["to","class"]),r(o,{to:y(a.currentPage+1),tabindex:"0",class:u(["nui-pagination-button",t.classes?.button]),onKeydown:n[7]||(n[7]=b(s=>s.target.click(),["space"])),onClick:n[8]||(n[8]=s=>P(s,a.currentPage+1))},{default:d(()=>[m(a.$slots,"next-icon",{},()=>[r(N,{name:a.nextIcon,class:"pagination-button-icon"},null,8,["name"])])]),_:3},8,["to","class"]),m(a.$slots,"after-navigation")]),_:3},8,["class"])],2)}}});export{G as _};
