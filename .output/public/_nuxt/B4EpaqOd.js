import{z as D,a1 as s,aF as O,F as $,aG as x,aH as C}from"./IEdULTv5.js";function j(a,n,u){const[e={},r]=typeof n=="string"?[{},n]:[n,u],t=D(()=>s(a)),o=e.key||O([r,typeof t.value=="string"?t.value:"",...E(e)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const l=o===r?"$f"+o:o;if(!e.baseURL&&typeof t.value=="string"&&t.value[0]==="/"&&t.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:p,lazy:y,default:m,transform:d,pick:b,watch:i,immediate:g,getCachedData:w,deep:v,dedupe:F,..._}=e,f=$({...x,..._,cache:typeof e.cache=="boolean"?void 0:e.cache}),k={server:p,lazy:y,default:m,transform:d,pick:b,immediate:g,getCachedData:w,deep:v,dedupe:F,watch:i===!1?[]:[f,t,...i||[]]};let c;return C(l,()=>{c?.abort?.(),c=typeof AbortController<"u"?new AbortController:{};const h=s(e.timeout);return h&&setTimeout(()=>c.abort(),h),(e.$fetch||globalThis.$fetch)(t.value,{signal:c.signal,...f})},k)}function E(a){const n=[s(a.method)?.toUpperCase()||"GET",s(a.baseURL)];for(const u of[a.params||a.query]){const e=s(u);if(!e)continue;const r={};for(const[t,o]of Object.entries(e))r[s(t)]=s(o);n.push(r)}return n}export{j as u};
