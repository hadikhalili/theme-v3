import{cr as ie,bf as U}from"./IEdULTv5.js";function oe(D,X){for(var y=0;y<X.length;y++){const v=X[y];if(typeof v!="string"&&!Array.isArray(v)){for(const k in v)if(k!=="default"&&!(k in D)){const c=Object.getOwnPropertyDescriptor(v,k);c&&Object.defineProperty(D,k,c.get?c:{enumerable:!0,get:()=>v[k]})}}}return Object.freeze(Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}))}function J(D){throw new Error('Could not dynamically require "'+D+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ne={exports:{}};(function(D,X){(function(y){D.exports=y()})(function(){return function(){function y(v,k,c){function i(t,u){if(!k[t]){if(!v[t]){var a=typeof J=="function"&&J;if(!u&&a)return a(t,!0);if(p)return p(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=k[t]={exports:{}};v[t][0].call(s.exports,function(l){return i(v[t][1][l]||l)},s,s.exports,y,v,k,c)}return k[t].exports}for(var p=typeof J=="function"&&J,r=0;r<c.length;r++)i(c[r]);return i}return y}()({1:[function(y,v,k){function c(r){"@babel/helpers - typeof";return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function i(r){this.origin=r.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=r.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=r,this.send=this.send.bind(this),this.countries=r.countries?r.countries.split(","):null,this.types=r.types?r.types.split(","):null,this.bbox=r.bbox?r.bbox:null,this.language=r.language?r.language.split(","):null,this.limit=r.limit?+r.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(r),this.eventQueue=new Array,this.flushInterval=r.flushInterval||1e3,this.maxQueueSize=r.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}var p=y("nanoid").nanoid;i.prototype={select:function(r,t){var u=this.getSelectedIndex(r,t),a=this.getEventPayload("search.select",t);if(a.resultIndex=u,a.resultPlaceName=r.place_name,a.resultId=r.id,(u!==this.lastSentIndex||a.queryString!==this.lastSentInput)&&u!=-1&&(this.lastSentIndex=u,this.lastSentInput=a.queryString,a.queryString))return this.push(a)},start:function(r){var t=this.getEventPayload("search.start",r);if(t.queryString)return this.push(t)},keyevent:function(r,t){if(r.key&&!r.metaKey&&[9,27,37,39,13,38,40].indexOf(r.keyCode)===-1){var u=this.getEventPayload("search.keystroke",t);if(u.lastAction=r.key,u.queryString)return this.push(u)}},send:function(r,t){if(this.enableEventLogging){var u=this.getRequestOptions(r);this.request(u,function(a){return a?this.handleError(a,t):t?t():void 0}.bind(this))}else if(t)return t()},getRequestOptions:function(r){return Array.isArray(r)||(r=[r]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}},getEventPayload:function(r,t){var u;u=t.options.proximity?c(t.options.proximity)==="object"?[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?[999,999]:t.options.proximity:null;var a=t._map?t._map.getZoom():void 0,n={event:r,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:u,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:a,keyboardLocale:this.locale};return r==="search.select"?n.queryString=t.inputString:r!="search.select"&&t._inputEl?n.queryString=t._inputEl.value:n.queryString=t.inputString,n},request:function(r,t){var u=new XMLHttpRequest;u.onreadystatechange=function(){if(this.readyState==4)return t(this.status==204?null:this.statusText)},u.open(r.method,r.host+"/"+r.path,!0);for(var a in r.headers){var n=r.headers[a];u.setRequestHeader(a,n)}u.send(r.body)},handleError:function(r,t){if(t)return t(r)},generateSessionID:function(){return p()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(r,t){if(t._typeahead){var u=t._typeahead.data,a=r.id;return u.map(function(n){return n.id}).indexOf(a)}},shouldEnableLogging:function(r){return r.enableEventLogging!==!1&&(!r.origin||r.origin==="https://api.mapbox.com")&&!r.localGeocoder&&!r.filter},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(r,t){this.eventQueue.push(r),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}},v.exports=i},{nanoid:32}],2:[function(y,v,k){v.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},{}],3:[function(y,v,k){function c(){}c.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){var i={enableHighAccuracy:!0};return new Promise(function(p,r){window.navigator.geolocation.getCurrentPosition(p,r,i)})}},v.exports=c},{}],4:[function(y,v,k){function c(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function i(e){this._eventEmitter=new u,this.options=t({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new m}var p=y("suggestions"),r=y("lodash.debounce"),t=y("xtend"),u=y("events").EventEmitter,a=y("./exceptions"),n=y("@mapbox/mapbox-sdk"),s=y("@mapbox/mapbox-sdk/services/geocoding"),l=y("./events"),g=y("./localization"),x=y("subtag"),m=y("./geolocation"),h=y("./utils"),f={FORWARD:0,LOCAL:1,REVERSE:2};i.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var o=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+o[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+o.splice(1,o.length).join(",")+"</div></div>"}},addTo:function(e){function o(O,A){if(!document.body.contains(A))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var T=O.onAdd();A.appendChild(T)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)o(this,e);else{if(typeof e!="string")throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");var b=document.querySelectorAll(e);if(b.length===0)throw new Error("Element ",e,"not found.");if(b.length>1)throw new Error("Geocoder can only be added to a single html element");o(this,b[0])}},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=s(n({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new l(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var o=this.container=document.createElement("div");o.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var b=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",r(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(I){this.eventManager.keyevent(I,this)}.bind(this));var O=document.createElement("div");O.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var A=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(A),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),O.appendChild(this._clearEl),O.appendChild(this._loadingEl),o.appendChild(b),o.appendChild(this._inputEl),o.appendChild(O),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var T=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(T),O.appendChild(this._geolocateEl),this._showGeolocateButton()}var q=this._typeahead=new p(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),q.getItemValue=this.options.getItemValue;var R=q.list.draw,E=this._footerNode=c();return q.list.draw=function(){R.call(this),E.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),E.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(E)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),o},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();var o={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(o),this._fly(o),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(o),this._showClearButton(),this.fresh=!1;var b={limit:1,language:[this.options.language],query:o.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){var O=o.geometry.coordinates[0]+","+o.geometry.coordinates[1];this._setInputValue(O),this._eventEmitter.emit("result",{result:o})}else this.geocoderService.reverseGeocode(b).send().then(function(A){var T=A.body.features[0];if(T){var q=h.transformFeatureToGeolocationText(T,this.options.addressAccuracy);this._setInputValue(q),T.user_coordinates=o.geometry.coordinates,this._eventEmitter.emit("result",{result:T})}else this._eventEmitter.emit("result",{result:{user_coordinates:o.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,o){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");return b.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),b.setAttribute("viewBox","0 0 18 18"),b.setAttribute("xml:space","preserve"),b.setAttribute("width",18),b.setAttribute("height",18),b.innerHTML=o,b},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var o=(e.clipboardData||window.clipboardData).getData("text");o.length>=this.options.minLength&&this._geocode(o)},_onKeyDown:function(e){if(e.keyCode===27&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var o=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target;if(!(o&&o.value))return this.fresh=!0,e.keyCode!==9&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1||o.value.length>=this.options.minLength&&this._geocode(o.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var o;if(e.properties&&a[e.properties.short_code])o=t({},this.options.flyTo),this._map&&this._map.fitBounds(a[e.properties.short_code].bbox,o);else if(e.bbox){var b=e.bbox;o=t({},this.options.flyTo),this._map&&this._map.fitBounds([[b[0],b[1]],[b[2],b[3]]],o)}else{var O={zoom:this.options.zoom};o=t({},O,this.options.flyTo),e.center?o.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(o.center=e.geometry.coordinates),this._map&&this._map.flyTo(o)}},_requestType:function(e,o){return e.localGeocoderOnly?f.LOCAL:e.reverseGeocode&&h.REVERSE_GEOCODE_COORD_RGX.test(o)?f.REVERSE:f.FORWARD},_setupConfig:function(e,o){var b=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],O=/[\s,]+/,A=this,T=b.reduce(function(R,E){if(A.options[E]===void 0||A.options[E]===null)return R;["countries","types","language"].indexOf(E)>-1?R[E]=A.options[E].split(O):R[E]=A.options[E];var I=typeof A.options[E].longitude=="number"&&typeof A.options[E].latitude=="number";if(E==="proximity"&&I){var d=A.options[E].longitude,_=A.options[E].latitude;R[E]=[d,_]}return R},{});switch(e){case f.REVERSE:var q=o.split(O).map(function(R){return parseFloat(R,10)});A.options.flipCoordinates||q.reverse(),T.types&&T.types[0],T=t(T,{query:q,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(R){R in T&&delete T[R]});break;case f.FORWARD:/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(o.trim())&&(o=o.replace(/,/g," ")),T=t(T,{query:o})}return T},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});var o,b=this._requestType(this.options,e),O=this._setupConfig(b,e);switch(b){case f.LOCAL:o=Promise.resolve();break;case f.FORWARD:o=this.geocoderService.forwardGeocode(O).send();break;case f.REVERSE:o=this.geocoderService.reverseGeocode(O).send()}var A=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],T=[],q=null;return o.catch(function(R){q=R}.bind(this)).then(function(R){this._hideLoadingIcon();var E={};return R?R.statusCode=="200"&&(E=R.body,E.request=R.request,E.headers=R.headers):E={type:"FeatureCollection",features:[]},E.config=O,this.fresh&&(this.eventManager.start(this),this.fresh=!1),E.features=E.features?A.concat(E.features):A,this.options.externalGeocoder?(T=this.options.externalGeocoder(e,E.features)||Promise.resolve([]),T.then(function(I){return E.features=E.features?I.concat(E.features):I,E},function(){return E})):E}.bind(this)).then(function(R){if(q)throw q;this.options.filter&&R.features.length&&(R.features=R.features.filter(this.options.filter)),R.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",R),this._typeahead.update(R.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",R))}.bind(this)).catch(function(R){this._hideLoadingIcon(),this._hideAttribution(),A.length&&this.options.localGeocoder||T.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(A)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:A}),this._eventEmitter.emit("error",{error:R})}.bind(this)),o},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var o=this;e.relatedTarget&&o._clear(e)},_onQueryResult:function(e){var o=e.body;if(o.features.length){var b=o.features[0];this._typeahead.selected=b,this._inputEl.value=b.place_name,this._onChange()}},_updateProximity:function(){if(this._map&&this.options.trackProximity)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderLocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderUserDeniedGeolocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>")},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],o=x.language(e),b=g.placeholder[o];if(b)return b}return"Search"},setInput:function(e,o){return o===void 0&&(o=!1),this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&(o?this._geocode(e):this._onChange()),this},setProximity:function(e){var o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.options.proximity=e,o&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var o=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||o,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.options.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.options.placeholder,this._inputEl.setAttribute("aria-label",this.options.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=s(n({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=s(n({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var o={color:"#4668F2"},b=t({},o,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(b),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,o){return this._eventEmitter.on(e,o),this},off:function(e,o){return this._eventEmitter.removeListener(e,o),this.eventManager.remove(),this}},v.exports=i},{"./events":1,"./exceptions":2,"./geolocation":3,"./localization":5,"./utils":6,"@mapbox/mapbox-sdk":8,"@mapbox/mapbox-sdk/services/geocoding":19,events:27,"lodash.debounce":31,subtag:35,suggestions:36,xtend:39}],5:[function(y,v,k){var c={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"};v.exports={placeholder:c}},{}],6:[function(y,v,k){function c(r,t){var u,a=i(r),n=["address","street","place","country"];if(typeof t=="function")return t(a);var s=n.indexOf(t);return u=s===-1?n:n.slice(s),u.reduce(function(l,g){return a[g]?(l!==""&&(l+=", "),l+a[g]):l},"")}function i(r){var t=r.address||"",u=r.text||"",a=r.place_name||"",n=a.split(",")[0],s={address:n,houseNumber:t,street:u,placeName:a};return r.context.forEach(function(l){var g=l.id.split(".")[0];s[g]=l.text}),s}var p=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;v.exports={transformFeatureToGeolocationText:c,getAddressInfo:i,REVERSE_GEOCODE_COORD_RGX:p}},{}],7:[function(y,v,k){function c(h){var f=Array.isArray(h),e=function(o){return f?h[o]:h};return function(o){var b=i(m.plainArray,o);if(b)return b;if(f&&o.length!==h.length)return"an array with "+h.length+" items";for(var O=0;O<o.length;O++)if(b=i(e(O),o[O]))return[O].concat(b)}}function i(h,f){if(f!=null||h.hasOwnProperty("__required")){var e=h(f);return e?Array.isArray(e)?e:[e]:void 0}}function p(h,f){var e=h.length,o=h[e-1],b=h.slice(0,e-1);return b.length===0&&(b=[x]),f=g(f,{path:b}),typeof o=="function"?o(f):a(f,t(o))}function r(h){return h.length<2?h[0]:h.length===2?h.join(" or "):h.slice(0,-1).join(", ")+", or "+h.slice(-1)}function t(h){return"must be "+u(h)+"."}function u(h){return/^an? /.test(h)?h:/^[aeiou]/i.test(h)?"an "+h:/^[a-z]/i.test(h)?"a "+h:h}function a(h,f){var e=n(h.path),o=h.path.join(".")+" "+f;return(e?"Item at position ":"")+o}function n(h){return typeof h[h.length-1]=="number"||typeof h[0]=="number"}function s(h){return Object.keys(h||{}).map(function(f){return{key:f,value:h[f]}})}var l=y("is-plain-obj"),g=y("xtend"),x="value",m={};m.assert=function(h,f){return f=f||{},function(e){var o=i(h,e);if(o){var b=p(o,f);throw f.apiName&&(b=f.apiName+": "+b),new Error(b)}}},m.shape=function(h){var f=s(h);return function(e){var o=i(m.plainObject,e);if(o)return o;for(var b,O,A=[],T=0;T<f.length;T++)b=f[T].key,O=f[T].value,(o=i(O,e[b]))&&A.push([b].concat(o));return A.length<2?A[0]:function(q){A=A.map(function(E){return"- "+E[0]+": "+p(E,q).split(`
`).join(`
  `)});var R=q.path.join(".");return"The following properties"+(R===x?"":" of "+R)+` have invalid values:
  `+A.join(`
  `)}}},m.strictShape=function(h){var f=m.shape(h);return function(e){var o=f(e);if(o)return o;var b=Object.keys(e).reduce(function(O,A){return h[A]===void 0&&O.push(A),O},[]);return b.length!==0?function(){return"The following keys are invalid: "+b.join(", ")}:void 0}},m.arrayOf=function(h){return c(h)},m.tuple=function(){return c(Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments))},m.required=function(h){function f(e){return e==null?function(o){return a(o,n(o.path)?"cannot be undefined/null.":"is required.")}:h.apply(this,arguments)}return f.__required=!0,f},m.oneOfType=function(){var h=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(f){var e=h.map(function(o){return i(o,f)}).filter(Boolean);if(e.length===h.length)return e.every(function(o){return o.length===1&&typeof o[0]=="string"})?r(e.map(function(o){return o[0]})):e.reduce(function(o,b){return b.length>o.length?b:o})}},m.equal=function(h){return function(f){if(f!==h)return JSON.stringify(h)}},m.oneOf=function(){var h=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),f=h.map(function(e){return m.equal(e)});return m.oneOfType.apply(this,f)},m.range=function(h){var f=h[0],e=h[1];return function(o){if(i(m.number,o)||o<f||o>e)return"number between "+f+" & "+e+" (inclusive)"}},m.any=function(){},m.boolean=function(h){if(typeof h!="boolean")return"boolean"},m.number=function(h){if(typeof h!="number")return"number"},m.plainArray=function(h){if(!Array.isArray(h))return"array"},m.plainObject=function(h){if(!l(h))return"object"},m.string=function(h){if(typeof h!="string")return"string"},m.func=function(h){if(typeof h!="function")return"function"},m.validate=i,m.processMessage=p,v.exports=m},{"is-plain-obj":30,xtend:39}],8:[function(y,v,k){var c=y("./lib/client");v.exports=c},{"./lib/client":9}],9:[function(y,v,k){function c(t){r.call(this,t)}function i(t){return new c(t)}var p=y("./browser-layer"),r=y("../classes/mapi-client");c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.prototype.sendRequest=p.browserSend,c.prototype.abortRequest=p.browserAbort,v.exports=i},{"../classes/mapi-client":11,"./browser-layer":10}],10:[function(y,v,k){function c(x){var m=g[x.id];m&&(m.abort(),delete g[x.id])}function i(x,m){return new a(x,{body:m.response,headers:l(m.getAllResponseHeaders()),statusCode:m.status})}function p(x){var m=x.total,h=x.loaded;return{total:m,transferred:h,percent:100*h/m}}function r(x,m){return new Promise(function(h,f){m.onprogress=function(b){x.emitter.emit(s.EVENT_PROGRESS_DOWNLOAD,p(b))};var e=x.file;e&&(m.upload.onprogress=function(b){x.emitter.emit(s.EVENT_PROGRESS_UPLOAD,p(b))}),m.onerror=function(b){f(b)},m.onabort=function(){var b=new n({request:x,type:s.ERROR_REQUEST_ABORTED});f(b)},m.onload=function(){if(delete g[x.id],m.status<200||m.status>=400){var b=new n({request:x,body:m.response,statusCode:m.status});return void f(b)}h(m)};var o=x.body;typeof o=="string"?m.send(o):o?m.send(JSON.stringify(o)):e?m.send(e):m.send(),g[x.id]=m}).then(function(h){return i(x,h)})}function t(x,m){var h=x.url(m),f=new window.XMLHttpRequest;return f.open(x.method,h),Object.keys(x.headers).forEach(function(e){f.setRequestHeader(e,x.headers[e])}),f}function u(x){return Promise.resolve().then(function(){var m=t(x,x.client.accessToken);return r(x,m)})}var a=y("../classes/mapi-response"),n=y("../classes/mapi-error"),s=y("../constants"),l=y("../helpers/parse-headers"),g={};v.exports={browserAbort:c,sendRequestXhr:r,browserSend:u,createRequestXhr:t}},{"../classes/mapi-error":12,"../classes/mapi-response":14,"../constants":15,"../helpers/parse-headers":16}],11:[function(y,v,k){function c(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");i(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||r.API_ORIGIN}var i=y("@mapbox/parse-mapbox-token"),p=y("./mapi-request"),r=y("../constants");c.prototype.createRequest=function(t){return new p(this,t)},v.exports=c},{"../constants":15,"./mapi-request":13,"@mapbox/parse-mapbox-token":25}],12:[function(y,v,k){function c(p){var r,t=p.type||i.ERROR_HTTP;if(p.body)try{r=JSON.parse(p.body)}catch{r=p.body}else r=null;var u=p.message||null;u||(typeof r=="string"?u=r:r&&typeof r.message=="string"?u=r.message:t===i.ERROR_REQUEST_ABORTED&&(u="Request aborted")),this.message=u,this.type=t,this.statusCode=p.statusCode||null,this.request=p.request,this.body=r}var i=y("../constants");v.exports=c},{"../constants":15}],13:[function(y,v,k){function c(n,s){if(!n)throw new Error("MapiRequest requires a client");if(!s||!s.path||!s.method)throw new Error("MapiRequest requires an options object with path and method properties");var l={};s.body&&(l["content-type"]="application/json");var g=p(l,s.headers),x=Object.keys(g).reduce(function(m,h){return m[h.toLowerCase()]=g[h],m},{});this.id=a++,this._options=s,this.emitter=new r,this.client=n,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=s.path,this.method=s.method,this.origin=s.origin||n.origin,this.query=s.query||{},this.params=s.params||{},this.body=s.body||null,this.file=s.file||null,this.encoding=s.encoding||"utf8",this.sendFileAs=s.sendFileAs||null,this.headers=x}var i=y("@mapbox/parse-mapbox-token"),p=y("xtend"),r=y("eventemitter3"),t=y("../helpers/url-utils"),u=y("../constants"),a=1;c.prototype.url=function(n){var s=t.prependOrigin(this.path,this.origin);s=t.appendQueryObject(s,this.query);var l=this.params,g=n??this.client.accessToken;if(g){s=t.appendQueryParam(s,"access_token",g);var x=i(g).user;l=p({ownerId:x},l)}return s=t.interpolateRouteParams(s,l),s},c.prototype.send=function(){var n=this;if(n.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return n.sent=!0,n.client.sendRequest(n).then(function(s){return n.response=s,n.emitter.emit(u.EVENT_RESPONSE,s),s},function(s){throw n.error=s,n.emitter.emit(u.EVENT_ERROR,s),s})},c.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},c.prototype.eachPage=function(n){function s(m){function h(){delete x._nextPageRequest;var f=m.nextPage();f&&(x._nextPageRequest=f,g(f))}n(null,m,h)}function l(m){n(m,null,function(){})}function g(m){m.send().then(s,l)}var x=this;g(this)},c.prototype.clone=function(){return this._extend()},c.prototype._extend=function(n){var s=p(this._options,n);return new c(this.client,s)},v.exports=c},{"../constants":15,"../helpers/url-utils":18,"@mapbox/parse-mapbox-token":25,eventemitter3:28,xtend:39}],14:[function(y,v,k){function c(p,r){this.request=p,this.headers=r.headers,this.rawBody=r.body,this.statusCode=r.statusCode;try{this.body=JSON.parse(r.body||"{}")}catch{this.body=r.body}this.links=i(this.headers.link)}var i=y("../helpers/parse-link-header");c.prototype.hasNextPage=function(){return!!this.links.next},c.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},v.exports=c},{"../helpers/parse-link-header":17}],15:[function(y,v,k){v.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},{}],16:[function(y,v,k){function c(p){var r=p.indexOf(":");return{name:p.substring(0,r).trim().toLowerCase(),value:p.substring(r+1).trim()}}function i(p){var r={};return p&&p.trim().split(/[\r|\n]+/).forEach(function(t){var u=c(t);r[u.name]=u.value}),r}v.exports=i},{}],17:[function(y,v,k){function c(r){var t=r.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function i(r){var t=r.match(/<?([^>]*)>(.*)/);if(!t)return null;var u=t[1],a=t[2].split(";"),n=null,s=a.reduce(function(l,g){var x=c(g);return x?x.key==="rel"?(n||(n=x.value),l):(l[x.key]=x.value,l):l},{});return n?{url:u,rel:n,params:s}:null}function p(r){return r?r.split(/,\s*</).reduce(function(t,u){var a=i(u);return a&&a.rel.split(/\s+/).forEach(function(n){t[n]||(t[n]={url:a.url,params:a.params})}),t},{}):{}}v.exports=p},{}],18:[function(y,v,k){function c(a){return a.map(encodeURIComponent).join(",")}function i(a){return Array.isArray(a)?c(a):encodeURIComponent(String(a))}function p(a,n,s){if(s===!1||s===null)return a;var l=/\?/.test(a)?"&":"?",g=encodeURIComponent(n);return s!==void 0&&s!==""&&s!==!0&&(g+="="+i(s)),""+a+l+g}function r(a,n){if(!n)return a;var s=a;return Object.keys(n).forEach(function(l){var g=n[l];g!==void 0&&(Array.isArray(g)&&(g=g.filter(function(x){return x!=null}).join(",")),s=p(s,l,g))}),s}function t(a,n){if(!n||a.slice(0,4)==="http")return a;var s=a[0]==="/"?"":"/";return""+n.replace(/\/$/,"")+s+a}function u(a,n){return n?a.replace(/\/:([a-zA-Z0-9]+)/g,function(s,l){var g=n[l];if(g===void 0)throw new Error("Unspecified route parameter "+l);return"/"+i(g)}):a}v.exports={appendQueryObject:r,appendQueryParam:p,prependOrigin:t,interpolateRouteParams:u}},{}],19:[function(y,v,k){var c=y("xtend"),i=y("./service-helpers/validator"),p=y("./service-helpers/pick"),r=y("./service-helpers/stringify-booleans"),t=y("./service-helpers/create-service-factory"),u={},a=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(n){i.assertShape({query:i.required(i.string),mode:i.oneOf("mapbox.places","mapbox.places-permanent"),countries:i.arrayOf(i.string),proximity:i.oneOf(i.coordinates,"ip"),types:i.arrayOf(i.oneOf(a)),autocomplete:i.boolean,bbox:i.arrayOf(i.number),limit:i.number,language:i.arrayOf(i.string),routing:i.boolean,fuzzyMatch:i.boolean,worldview:i.string})(n),n.mode=n.mode||"mapbox.places";var s=r(c({country:n.countries},p(n,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:p(n,["mode","query"]),query:s})},u.reverseGeocode=function(n){i.assertShape({query:i.required(i.coordinates),mode:i.oneOf("mapbox.places","mapbox.places-permanent"),countries:i.arrayOf(i.string),types:i.arrayOf(i.oneOf(a)),bbox:i.arrayOf(i.number),limit:i.number,language:i.arrayOf(i.string),reverseMode:i.oneOf("distance","score"),routing:i.boolean,worldview:i.string})(n),n.mode=n.mode||"mapbox.places";var s=r(c({country:n.countries},p(n,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:p(n,["mode","query"]),query:s})},v.exports=t(u)},{"./service-helpers/create-service-factory":20,"./service-helpers/pick":22,"./service-helpers/stringify-booleans":23,"./service-helpers/validator":24,xtend:39}],20:[function(y,v,k){function c(r){return function(t){var u;u=i.prototype.isPrototypeOf(t)?t:p(t);var a=Object.create(r);return a.client=u,a}}var i=y("../../lib/classes/mapi-client"),p=y("../../lib/client");v.exports=c},{"../../lib/classes/mapi-client":11,"../../lib/client":9}],21:[function(y,v,k){function c(i,p){return Object.keys(i).reduce(function(r,t){return r[t]=p(t,i[t]),r},{})}v.exports=c},{}],22:[function(y,v,k){function c(i,p){var r=function(t,u){return p.indexOf(t)!==-1&&u!==void 0};return typeof p=="function"&&(r=p),Object.keys(i).filter(function(t){return r(t,i[t])}).reduce(function(t,u){return t[u]=i[u],t},{})}v.exports=c},{}],23:[function(y,v,k){function c(p){return i(p,function(r,t){return typeof t=="boolean"?JSON.stringify(t):t})}var i=y("./object-map");v.exports=c},{"./object-map":21}],24:[function(y,v,k){(function(c){(function(){function i(n){if(typeof window<"u")return n instanceof c.Blob||n instanceof c.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(typeof n!="string"&&n.pipe===void 0)return"Filename or Readable stream"}function p(n,s){return a.assert(a.strictShape(n),s)}function r(n){if(typeof n=="boolean")return"date";try{var s=new Date(n);if(s.getTime&&isNaN(s.getTime()))return"date"}catch{return"date"}}function t(n){return a.tuple(a.number,a.number)(n)}var u=y("xtend"),a=y("@mapbox/fusspot");v.exports=u(a,{file:i,date:r,coordinates:t,assertShape:p})}).call(this)}).call(this,typeof U<"u"?U:typeof self<"u"?self:typeof window<"u"?window:{})},{"@mapbox/fusspot":7,xtend:39}],25:[function(y,v,k){function c(u){if(t[u])return t[u];var a=u.split("."),n=a[0],s=a[1];if(!s)throw new Error("Invalid token");var l=i(s),g={usage:n,user:l.u};return p(l,"a")&&(g.authorization=l.a),p(l,"exp")&&(g.expires=1e3*l.exp),p(l,"iat")&&(g.created=1e3*l.iat),p(l,"scopes")&&(g.scopes=l.scopes),p(l,"client")&&(g.client=l.client),p(l,"ll")&&(g.lastLogin=l.ll),p(l,"iu")&&(g.impersonator=l.iu),t[u]=g,g}function i(u){try{return JSON.parse(r.decode(u))}catch{throw new Error("Invalid token")}}function p(u,a){return Object.prototype.hasOwnProperty.call(u,a)}var r=y("base-64"),t={};v.exports=c},{"base-64":26}],26:[function(y,v,k){(function(c){(function(){function i(p){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(p)}(function(p){var r=(k===void 0?"undefined":i(k))=="object"&&k,t=(v===void 0?"undefined":i(v))=="object"&&v&&v.exports==r&&v,u=(c===void 0?"undefined":i(c))=="object"&&c;u.global!==u&&u.window!==u||(p=u);var a=function(f){this.message=f};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var n=function(f){throw new a(f)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,g=function(f){f=String(f).replace(l,"");var e=f.length;e%4==0&&(f=f.replace(/==?$/,""),e=f.length),(e%4==1||/[^+a-zA-Z0-9/]/.test(f))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var o,b,O=0,A="",T=-1;++T<e;)b=s.indexOf(f.charAt(T)),o=O%4?64*o+b:b,O++%4&&(A+=String.fromCharCode(255&o>>(-2*O&6)));return A},x=function(f){f=String(f),/[^\0-\xFF]/.test(f)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var e,o,b,O,A=f.length%3,T="",q=-1,R=f.length-A;++q<R;)e=f.charCodeAt(q)<<16,o=f.charCodeAt(++q)<<8,b=f.charCodeAt(++q),O=e+o+b,T+=s.charAt(O>>18&63)+s.charAt(O>>12&63)+s.charAt(O>>6&63)+s.charAt(63&O);return A==2?(e=f.charCodeAt(q)<<8,o=f.charCodeAt(++q),O=e+o,T+=s.charAt(O>>10)+s.charAt(O>>4&63)+s.charAt(O<<2&63)+"="):A==1&&(O=f.charCodeAt(q),T+=s.charAt(O>>2)+s.charAt(O<<4&63)+"=="),T},m={encode:x,decode:g,version:"0.1.0"};if(r&&!r.nodeType)if(t)t.exports=m;else for(var h in m)m.hasOwnProperty(h)&&(r[h]=m[h]);else p.base64=m})(void 0)}).call(this)}).call(this,typeof U<"u"?U:typeof self<"u"?self:typeof window<"u"?window:{})},{}],27:[function(y,v,k){function c(d){"@babel/helpers - typeof";return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=A(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function p(d){return d._maxListeners===void 0?i.defaultMaxListeners:d._maxListeners}function r(d,_,w){if(_)d.call(w);else for(var L=d.length,S=f(d,L),C=0;C<L;++C)S[C].call(w)}function t(d,_,w,L){if(_)d.call(w,L);else for(var S=d.length,C=f(d,S),P=0;P<S;++P)C[P].call(w,L)}function u(d,_,w,L,S){if(_)d.call(w,L,S);else for(var C=d.length,P=f(d,C),j=0;j<C;++j)P[j].call(w,L,S)}function a(d,_,w,L,S,C){if(_)d.call(w,L,S,C);else for(var P=d.length,j=f(d,P),G=0;G<P;++G)j[G].call(w,L,S,C)}function n(d,_,w,L){if(_)d.apply(w,L);else for(var S=d.length,C=f(d,S),P=0;P<S;++P)C[P].apply(w,L)}function s(d,_,w,L){var S,C,P;if(typeof w!="function")throw new TypeError('"listener" argument must be a function');if(C=d._events,C?(C.newListener&&(d.emit("newListener",_,w.listener?w.listener:w),C=d._events),P=C[_]):(C=d._events=A(null),d._eventsCount=0),P){if(typeof P=="function"?P=C[_]=L?[w,P]:[P,w]:L?P.unshift(w):P.push(w),!P.warned&&(S=p(d))&&S>0&&P.length>S){P.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(_)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');j.name="MaxListenersExceededWarning",j.emitter=d,j.type=_,j.count=P.length,(typeof console>"u"?"undefined":c(console))==="object"&&console.warn&&console.warn("%s: %s",j.name,j.message)}}else P=C[_]=w,++d._eventsCount;return d}function l(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var d=new Array(arguments.length),_=0;_<d.length;++_)d[_]=arguments[_];this.listener.apply(this.target,d)}}function g(d,_,w){var L={fired:!1,wrapFn:void 0,target:d,type:_,listener:w},S=q.call(l,L);return S.listener=w,L.wrapFn=S,S}function x(d,_,w){var L=d._events;if(!L)return[];var S=L[_];return S?typeof S=="function"?w?[S.listener||S]:[S]:w?e(S):f(S,S.length):[]}function m(d){var _=this._events;if(_){var w=_[d];if(typeof w=="function")return 1;if(w)return w.length}return 0}function h(d,_){for(var w=_,L=w+1,S=d.length;L<S;w+=1,L+=1)d[w]=d[L];d.pop()}function f(d,_){for(var w=new Array(_),L=0;L<_;++L)w[L]=d[L];return w}function e(d){for(var _=new Array(d.length),w=0;w<_.length;++w)_[w]=d[w].listener||d[w];return _}function o(d){var _=function(){};return _.prototype=d,new _}function b(d){var _=[];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&_.push(w);return w}function O(d){var _=this;return function(){return _.apply(d,arguments)}}var A=Object.create||o,T=Object.keys||b,q=Function.prototype.bind||O;v.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var R,E=10;try{var I={};Object.defineProperty&&Object.defineProperty(I,"x",{value:0}),R=I.x===0}catch{R=!1}R?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(d){if(typeof d!="number"||d<0||d!==d)throw new TypeError('"defaultMaxListeners" must be a positive number');E=d}}):i.defaultMaxListeners=E,i.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||isNaN(d))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=d,this},i.prototype.getMaxListeners=function(){return p(this)},i.prototype.emit=function(d){var _,w,L,S,C,P,j=d==="error";if(P=this._events)j=j&&P.error==null;else if(!j)return!1;if(j){if(arguments.length>1&&(_=arguments[1]),_ instanceof Error)throw _;var G=new Error('Unhandled "error" event. ('+_+")");throw G.context=_,G}if(!(w=P[d]))return!1;var B=typeof w=="function";switch(L=arguments.length){case 1:r(w,B,this);break;case 2:t(w,B,this,arguments[1]);break;case 3:u(w,B,this,arguments[1],arguments[2]);break;case 4:a(w,B,this,arguments[1],arguments[2],arguments[3]);break;default:for(S=new Array(L-1),C=1;C<L;C++)S[C-1]=arguments[C];n(w,B,this,S)}return!0},i.prototype.addListener=function(d,_){return s(this,d,_,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(d,_){return s(this,d,_,!0)},i.prototype.once=function(d,_){if(typeof _!="function")throw new TypeError('"listener" argument must be a function');return this.on(d,g(this,d,_)),this},i.prototype.prependOnceListener=function(d,_){if(typeof _!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(d,g(this,d,_)),this},i.prototype.removeListener=function(d,_){var w,L,S,C,P;if(typeof _!="function")throw new TypeError('"listener" argument must be a function');if(!(L=this._events))return this;if(!(w=L[d]))return this;if(w===_||w.listener===_)--this._eventsCount==0?this._events=A(null):(delete L[d],L.removeListener&&this.emit("removeListener",d,w.listener||_));else if(typeof w!="function"){for(S=-1,C=w.length-1;C>=0;C--)if(w[C]===_||w[C].listener===_){P=w[C].listener,S=C;break}if(S<0)return this;S===0?w.shift():h(w,S),w.length===1&&(L[d]=w[0]),L.removeListener&&this.emit("removeListener",d,P||_)}return this},i.prototype.removeAllListeners=function(d){var _,w,L;if(!(w=this._events))return this;if(!w.removeListener)return arguments.length===0?(this._events=A(null),this._eventsCount=0):w[d]&&(--this._eventsCount==0?this._events=A(null):delete w[d]),this;if(arguments.length===0){var S,C=T(w);for(L=0;L<C.length;++L)(S=C[L])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=A(null),this._eventsCount=0,this}if(typeof(_=w[d])=="function")this.removeListener(d,_);else if(_)for(L=_.length-1;L>=0;L--)this.removeListener(d,_[L]);return this},i.prototype.listeners=function(d){return x(this,d,!0)},i.prototype.rawListeners=function(d){return x(this,d,!1)},i.listenerCount=function(d,_){return typeof d.listenerCount=="function"?d.listenerCount(_):m.call(d,_)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],28:[function(y,v,k){function c(){}function i(n,s,l){this.fn=n,this.context=s,this.once=l||!1}function p(n,s,l,g,x){if(typeof l!="function")throw new TypeError("The listener must be a function");var m=new i(l,g||n,x),h=a?a+s:s;return n._events[h]?n._events[h].fn?n._events[h]=[n._events[h],m]:n._events[h].push(m):(n._events[h]=m,n._eventsCount++),n}function r(n,s){--n._eventsCount==0?n._events=new c:delete n._events[s]}function t(){this._events=new c,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,a="~";Object.create&&(c.prototype=Object.create(null),new c().__proto__||(a=!1)),t.prototype.eventNames=function(){var n,s,l=[];if(this._eventsCount===0)return l;for(s in n=this._events)u.call(n,s)&&l.push(a?s.slice(1):s);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(n)):l},t.prototype.listeners=function(n){var s=a?a+n:n,l=this._events[s];if(!l)return[];if(l.fn)return[l.fn];for(var g=0,x=l.length,m=new Array(x);g<x;g++)m[g]=l[g].fn;return m},t.prototype.listenerCount=function(n){var s=a?a+n:n,l=this._events[s];return l?l.fn?1:l.length:0},t.prototype.emit=function(n,s,l,g,x,m){var h=a?a+n:n;if(!this._events[h])return!1;var f,e,o=this._events[h],b=arguments.length;if(o.fn){switch(o.once&&this.removeListener(n,o.fn,void 0,!0),b){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,s),!0;case 3:return o.fn.call(o.context,s,l),!0;case 4:return o.fn.call(o.context,s,l,g),!0;case 5:return o.fn.call(o.context,s,l,g,x),!0;case 6:return o.fn.call(o.context,s,l,g,x,m),!0}for(e=1,f=new Array(b-1);e<b;e++)f[e-1]=arguments[e];o.fn.apply(o.context,f)}else{var O,A=o.length;for(e=0;e<A;e++)switch(o[e].once&&this.removeListener(n,o[e].fn,void 0,!0),b){case 1:o[e].fn.call(o[e].context);break;case 2:o[e].fn.call(o[e].context,s);break;case 3:o[e].fn.call(o[e].context,s,l);break;case 4:o[e].fn.call(o[e].context,s,l,g);break;default:if(!f)for(O=1,f=new Array(b-1);O<b;O++)f[O-1]=arguments[O];o[e].fn.apply(o[e].context,f)}}return!0},t.prototype.on=function(n,s,l){return p(this,n,s,l,!1)},t.prototype.once=function(n,s,l){return p(this,n,s,l,!0)},t.prototype.removeListener=function(n,s,l,g){var x=a?a+n:n;if(!this._events[x])return this;if(!s)return r(this,x),this;var m=this._events[x];if(m.fn)m.fn!==s||g&&!m.once||l&&m.context!==l||r(this,x);else{for(var h=0,f=[],e=m.length;h<e;h++)(m[h].fn!==s||g&&!m[h].once||l&&m[h].context!==l)&&f.push(m[h]);f.length?this._events[x]=f.length===1?f[0]:f:r(this,x)}return this},t.prototype.removeAllListeners=function(n){var s;return n?(s=a?a+n:n,this._events[s]&&r(this,s)):(this._events=new c,this._eventsCount=0),this},t.prototype.off=t.prototype.removeListener,t.prototype.addListener=t.prototype.on,t.prefixed=a,t.EventEmitter=t,v!==void 0&&(v.exports=t)},{}],29:[function(y,v,k){(function(){var c=this,i={};k!==void 0?v.exports=i:c.fuzzy=i,i.simpleFilter=function(p,r){return r.filter(function(t){return i.test(p,t)})},i.test=function(p,r){return i.match(p,r)!==null},i.match=function(p,r,t){t=t||{};var u,a=0,n=[],s=r.length,l=0,g=0,x=t.pre||"",m=t.post||"",h=t.caseSensitive&&r||r.toLowerCase();p=t.caseSensitive&&p||p.toLowerCase();for(var f=0;f<s;f++)u=r[f],h[f]===p[a]?(u=x+u+m,a+=1,g+=1+g):g=0,l+=g,n[n.length]=u;return a===p.length?(l=h===p?1/0:l,{rendered:n.join(""),score:l}):null},i.filter=function(p,r,t){return r&&r.length!==0?typeof p!="string"?r:(t=t||{},r.reduce(function(u,a,n,s){var l=a;t.extract&&(l=t.extract(a));var g=i.match(p,l,t);return g!=null&&(u[u.length]={string:g.rendered,score:g.score,index:n,original:a}),u},[]).sort(function(u,a){var n=a.score-u.score;return n||u.index-a.index})):[]}})()},{}],30:[function(y,v,k){var c=Object.prototype.toString;v.exports=function(i){var p;return c.call(i)==="[object Object]"&&((p=Object.getPrototypeOf(i))===null||p===Object.getPrototypeOf({}))}},{}],31:[function(y,v,k){(function(c){(function(){function i(E){"@babel/helpers - typeof";return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(E)}function p(E,I,d){function _(M){var z=F,K=Q;return F=Q=void 0,Z=M,H=E.apply(K,z)}function w(M){return Z=M,N=setTimeout(C,I),ee?_(M):H}function L(M){var z=M-V,K=M-Z,te=I-z;return $?q(te,W-K):te}function S(M){var z=M-V,K=M-Z;return V===void 0||z>=I||z<0||$&&K>=W}function C(){var M=R();if(S(M))return P(M);N=setTimeout(C,L(M))}function P(M){return N=void 0,Y&&F?_(M):(F=Q=void 0,H)}function j(){N!==void 0&&clearTimeout(N),Z=0,F=V=Q=N=void 0}function G(){return N===void 0?H:P(R())}function B(){var M=R(),z=S(M);if(F=arguments,Q=this,V=M,z){if(N===void 0)return w(V);if($)return N=setTimeout(C,I),_(V)}return N===void 0&&(N=setTimeout(C,I)),H}var F,Q,W,H,N,V,Z=0,ee=!1,$=!1,Y=!0;if(typeof E!="function")throw new TypeError(n);return I=a(I)||0,r(d)&&(ee=!!d.leading,$="maxWait"in d,W=$?T(a(d.maxWait)||0,I):W,Y="trailing"in d?!!d.trailing:Y),B.cancel=j,B.flush=G,B}function r(E){var I=i(E);return!!E&&(I=="object"||I=="function")}function t(E){return!!E&&i(E)=="object"}function u(E){return i(E)=="symbol"||t(E)&&A.call(E)==l}function a(E){if(typeof E=="number")return E;if(u(E))return s;if(r(E)){var I=typeof E.valueOf=="function"?E.valueOf():E;E=r(I)?I+"":I}if(typeof E!="string")return E===0?E:+E;E=E.replace(g,"");var d=m.test(E);return d||h.test(E)?f(E.slice(2),d?2:8):x.test(E)?s:+E}var n="Expected a function",s=NaN,l="[object Symbol]",g=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,h=/^0o[0-7]+$/i,f=parseInt,e=(c===void 0?"undefined":i(c))=="object"&&c&&c.Object===Object&&c,o=(typeof self>"u"?"undefined":i(self))=="object"&&self&&self.Object===Object&&self,b=e||o||Function("return this")(),O=Object.prototype,A=O.toString,T=Math.max,q=Math.min,R=function(){return b.Date.now()};v.exports=p}).call(this)}).call(this,typeof U<"u"?U:typeof self<"u"?self:typeof window<"u"?window:{})},{}],32:[function(y,v,k){(function(c){(function(){var i=y("./url-alphabet/index.cjs"),p=i.urlAlphabet;if(c.env.NODE_ENV!=="production"){if(typeof navigator<"u"&&navigator.product==="ReactNative"&&typeof crypto>"u")throw new Error("React Native does not have a built-in secure random generator. If you don’t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if(typeof msCrypto<"u"&&typeof crypto>"u")throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if(typeof crypto>"u")throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.")}var r=function(n){return crypto.getRandomValues(new Uint8Array(n))},t=function(n,s,l){var g=(2<<Math.log(n.length-1)/Math.LN2)-1,x=-~(1.6*g*s/n.length);return function(){for(var m="";;)for(var h=l(x),f=x;f--;)if(m+=n[h[f]&g]||"",m.length===s)return m}},u=function(n,s){return t(n,s,r)},a=function(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,s="",l=crypto.getRandomValues(new Uint8Array(n));n--;){var g=63&l[n];s+=g<36?g.toString(36):g<62?(g-26).toString(36).toUpperCase():g<63?"_":"-"}return s};v.exports={nanoid:a,customAlphabet:u,customRandom:t,urlAlphabet:p,random:r}}).call(this)}).call(this,y("_process"))},{"./url-alphabet/index.cjs":33,_process:34}],33:[function(y,v,k){v.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}},{}],34:[function(y,v,k){function c(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function p(e){if(s===setTimeout)return setTimeout(e,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch{try{return s.call(null,e,0)}catch{return s.call(this,e,0)}}}function r(e){if(l===clearTimeout)return clearTimeout(e);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch{try{return l.call(null,e)}catch{return l.call(this,e)}}}function t(){h&&x&&(h=!1,x.length?m=x.concat(m):f=-1,m.length&&u())}function u(){if(!h){var e=p(t);h=!0;for(var o=m.length;o;){for(x=m,m=[];++f<o;)x&&x[f].run();f=-1,o=m.length}x=null,h=!1,r(e)}}function a(e,o){this.fun=e,this.array=o}function n(){}var s,l,g=v.exports={};(function(){try{s=typeof setTimeout=="function"?setTimeout:c}catch{s=c}try{l=typeof clearTimeout=="function"?clearTimeout:i}catch{l=i}})();var x,m=[],h=!1,f=-1;g.nextTick=function(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)o[b-1]=arguments[b];m.push(new a(e,o)),m.length!==1||h||p(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=n,g.addListener=n,g.once=n,g.off=n,g.removeListener=n,g.removeAllListeners=n,g.emit=n,g.prependListener=n,g.prependOnceListener=n,g.listeners=function(e){return[]},g.binding=function(e){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(e){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],35:[function(y,v,k){(function(c,i,p){v!==void 0&&v.exports?v.exports=p():c.subtag=p()})(void 0,0,function(){function c(n){return n.match(a)||[]}function i(n){return c(n).filter(function(s,l){return s&&l})}function p(n){return n=c(n),{language:n[1]||u,extlang:n[2]||u,script:n[3]||u,region:n[4]||u}}function r(n,s,l){Object.defineProperty(n,s,{value:l,enumerable:!0})}function t(n,s,l){function g(x){return c(x)[n]||u}r(g,"pattern",s),r(p,l,g)}var u="",a=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;return t(1,/^[a-zA-Z]{2,3}$/,"language"),t(2,/^[a-zA-Z]{3}$/,"extlang"),t(3,/^[a-zA-Z]{4}$/,"script"),t(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),r(p,"split",i),p})},{}],36:[function(y,v,k){var c=y("./src/suggestions");v.exports=c,typeof window<"u"&&(window.Suggestions=c)},{"./src/suggestions":38}],37:[function(y,v,k){var c=function(i){return this.component=i,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,i.el.parentNode.insertBefore(this.wrapper,i.el.nextSibling),this};c.prototype.show=function(){this.element.style.display="block"},c.prototype.hide=function(){this.element.style.display="none"},c.prototype.add=function(i){this.items.push(i)},c.prototype.clear=function(){this.items=[],this.active=0},c.prototype.isEmpty=function(){return!this.items.length},c.prototype.isVisible=function(){return this.element.style.display==="block"},c.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0)return void this.hide();for(var i=0;i<this.items.length;i++)this.drawItem(this.items[i],this.active===i);this.show()},c.prototype.drawItem=function(i,p){var r=document.createElement("li"),t=document.createElement("a");p&&(r.className+=" active"),t.innerHTML=i.string,r.appendChild(t),this.element.appendChild(r),r.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),r.addEventListener("mouseup",function(){this.handleMouseUp.call(this,i)}.bind(this))},c.prototype.handleMouseUp=function(i){this.selectingListItem=!1,this.component.value(i.original),this.clear(),this.draw()},c.prototype.move=function(i){this.active=i,this.draw()},c.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)},c.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},c.prototype.drawError=function(i){var p=document.createElement("li");p.innerHTML=i,this.element.appendChild(p),this.show()},v.exports=c},{}],38:[function(y,v,k){var c=y("xtend"),i=y("fuzzy"),p=y("./list"),r=function(t,u,a){return a=a||{},this.options=c({minLength:2,limit:5,filter:!0,hideOnBlur:!0},a),this.el=t,this.data=u||[],this.list=new p(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(n){this.handleKeyUp(n.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(n){this.handleKeyDown(n)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(n){this.handlePaste(n)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};r.prototype.handleKeyUp=function(t){t!==40&&t!==38&&t!==27&&t!==13&&t!==9&&this.handleInputChange(this.el.value)},r.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},r.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},r.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var u=this;setTimeout(function(){u.handleInputChange(t.target.value)},100)}},r.prototype.handleInputChange=function(t){if(this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength)return void this.list.draw();this.getCandidates(function(u){for(var a=0;a<u.length&&(this.list.add(u[a]),a!==this.options.limit-1);a++);this.list.draw()}.bind(this))},r.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},r.prototype.update=function(t){this.data=t,this.handleKeyUp()},r.prototype.clear=function(){this.data=[],this.list.clear()},r.prototype.normalize=function(t){return t=t.toLowerCase()},r.prototype.match=function(t,u){return t.indexOf(u)>-1},r.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var u=document.createEvent("HTMLEvents");u.initEvent("change",!0,!1),this.el.dispatchEvent(u)}else this.el.fireEvent("onchange")},r.prototype.getCandidates=function(t){var u,a={pre:"<strong>",post:"</strong>",extract:function(n){return this.getItemValue(n)}.bind(this)};this.options.filter?(u=i.filter(this.query,this.data,a),u=u.map(function(n){return{original:n.original,string:this.render(n.original,n.string)}}.bind(this))):u=this.data.map(function(n){return{original:n,string:this.render(n)}}.bind(this)),t(u)},r.prototype.getItemValue=function(t){return t},r.prototype.render=function(t,u){if(u)return u;for(var a=t.original?this.getItemValue(t.original):this.getItemValue(t),n=this.normalize(a),s=n.lastIndexOf(this.query);s>-1;){var l=s+this.query.length;a=a.slice(0,s)+"<strong>"+a.slice(s,l)+"</strong>"+a.slice(l),s=n.slice(0,s).lastIndexOf(this.query)}return a},r.prototype.renderError=function(t){this.list.drawError(t)},v.exports=r},{"./list":37,fuzzy:29,xtend:39}],39:[function(y,v,k){function c(){for(var p={},r=0;r<arguments.length;r++){var t=arguments[r];for(var u in t)i.call(t,u)&&(p[u]=t[u])}return p}v.exports=c;var i=Object.prototype.hasOwnProperty},{}]},{},[4])(4)})})(ne);var re=ne.exports;const se=ie(re),ue=oe({__proto__:null,default:se},[re]);export{ue as m};
