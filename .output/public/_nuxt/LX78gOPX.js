import{d as N,ay as T,r as x,H as F,s as H,az as G,aA as M,ae as w,z as U,c as l,e as u,i as e,N as y,f as d,g as f,X as h,C as R,U as B,R as j,S as A,J as k,K as z,w as J,j as K,I as X,_ as q,n as Q}from"./IEdULTv5.js";const W={class:"group/password-strength relative"},Y={key:0,class:"border-muted-200 dark:border-muted-700 shadow-muted-300/30 dark:shadow-muted-800/20 dark:bg-muted-800 pointer-events-none absolute -bottom-1 start-0 z-20 translate-y-full rounded-lg border bg-white p-6 opacity-0 shadow-xl transition-opacity duration-300 group-focus-within/password-strength:pointer-events-auto group-focus-within/password-strength:opacity-100"},Z={class:"flex flex-col gap-4"},ee={key:0,class:"flex items-center justify-between gap-2"},te=["disabled","data-nui-tooltip"],se={class:"relative flex size-full items-center justify-center"},ae={class:"-mx-1 mt-2 grid grid-cols-5"},ne=N({inheritAttrs:!1,__name:"AddonInputPassword",props:{modelValue:{default:""},userInputs:{default:()=>[]},locale:{type:Function,default:void 0},rounded:{default:"sm"},show:{type:Boolean},touched:{type:Boolean},disabled:{type:Boolean}},emits:["update:modelValue","validation","visibility"],setup(E,{expose:L,emit:O}){const a=E,b=O,c=T(a,"modelValue",b,{passive:!0,defaultValue:""}),o=x(a.show??!1);let _,P,V,v=!1;const I=x(),r=x(a.touched??!1),t=F(null);L({touched:r,validation:t,showPassword:o,toggleVisibility:p,inputRef:I});function D(s,n=!0){c.value=s,r.value=n}function p(){o.value=!o.value}H(o,s=>b("visibility",s));async function C(s){if(!_){v=!0;return}P.setOptions(V),t.value=await _(s,a.userInputs);const n=t.value.crackTimesSeconds.offlineFastHashing1e10PerSecond>1e9;t.value.score+=n?1:0,b("validation",{validation:t.value,touched:r.value})}G([c,()=>a.userInputs],([s])=>C(s),{debounce:200,immediate:!0}),M(async()=>{const[{zxcvbnAsync:s,zxcvbnOptions:n},{dictionary:m,adjacencyGraphs:g},{dictionary:i,translations:$}]=await Promise.all([w(()=>import("./H85WeBBy.js"),[],import.meta.url),w(()=>import("./bdamX4EN.js"),[],import.meta.url),a.locale?a.locale():w(()=>import("./BDtqNyGO.js"),[],import.meta.url)]);if(V={useLevenshteinDistance:!0,graphs:g,dictionary:{...m,...i},translations:$},_=s,P=n,v){if(v=!1,!c.value)return;C(c.value)}});const S=U(()=>{switch(a.rounded){case"sm":return"[&_.nui-text-button]:rounded-s";case"md":return"[&_.nui-text-button]:rounded-s-md";case"lg":return"[&_.nui-text-button]:rounded-s-xl";case"full":return"[&_.nui-text-button]:rounded-s-full";case"none":return""}});return(s,n)=>{const m=q,g=Q;return l(),u("div",W,[e(t)?.feedback?.suggestions?.length||e(t)?.feedback?.warning?(l(),u("div",Y,[y(s.$slots,"help",k(z({touched:e(r),validation:e(t),showPassword:e(o),toggleVisibility:p})),()=>[d("ul",Z,[e(t)?.feedback?.warning?(l(),u("li",ee,[f(m,{name:"lucide:help-circle",class:"text-muted-400 dark:text-muted-500 size-4 shrink-0"}),d("span",{class:h(["grow text-xs dark:text-slate-400",["dark:text-slate-350 font-semibold"]])},R(e(t)?.feedback?.warning),1)])):B("",!0),(l(!0),u(j,null,A(e(t)?.feedback?.suggestions,i=>(l(),u("li",{key:i,class:"flex items-center justify-between gap-2"},[f(m,{name:"lucide:help-circle",class:"text-muted-400 dark:text-muted-500 size-4 shrink-0"}),d("span",{class:h(["grow text-xs dark:text-slate-400",["dark:text-slate-350 font-semibold"]])},R(i),1)]))),128))])])])):B("",!0),f(g,X({ref_key:"inputRef",ref:I,"model-value":e(c),type:e(o)?"text":"password",disabled:a.disabled,rounded:a.rounded},s.$attrs,{classes:{input:"!pe-12"},"onUpdate:modelValue":n[1]||(n[1]=i=>{D(String(i))})}),{action:J(()=>[y(s.$slots,"action",k(z({touched:e(r),validation:e(t),showPassword:e(o),toggleVisibility:p})),()=>[d("button",{class:h(["leading-0 text-muted-400 peer-focus-within:text-primary-500 nui-focus absolute end-0 top-0 flex size-10 items-center justify-center text-center text-xl disabled:cursor-not-allowed",e(S)]),type:"button",tabindex:"0",disabled:a.disabled,"data-nui-tooltip":a.disabled?"":`${e(o)?"عدم نمایش":"نمایش"} گذرواژه`,onClick:n[0]||(n[0]=K(()=>p(),["prevent"]))},[d("div",se,[f(m,{name:e(o)?"mdi:eye-outline":"mdi:eye-off-outline",class:"size-5"},null,8,["name"])])],10,te)])]),_:3},16,["model-value","type","disabled","rounded"]),y(s.$slots,"default",k(z({touched:e(r),validation:e(t),showPassword:e(o),toggleVisibility:p})),()=>[d("div",ae,[(l(),u(j,null,A(5,i=>d("div",{key:i,class:"px-1"},[d("div",{class:h(["h-1.5 rounded-xl transition-colors",e(r)?(e(t)?.score??0)>=i?"bg-success-500":"bg-danger-500":"bg-muted-200 dark:bg-muted-700"])},null,2)])),64))])])])}}});export{ne as _};
