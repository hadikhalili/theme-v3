import{s as H}from"./x_rD_Ya3.js";import{c as a,e as n,f as e,d as I,r as _,z as b,o as V,a8 as j,s as D,O as y,X as h,at as C,C as i,g as f,i as v,R as E,S as N}from"./IEdULTv5.js";/* empty css        */function P(o,c){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})])}function k(o,c){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function R(o,c){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z","clip-rule":"evenodd"})])}function B(o,c){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function T(o,c){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function S(o,c){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const F={class:"min-h-screen bg-slate-950 text-slate-100"},G={class:"mx-auto flex min-h-screen max-w-5xl items-center justify-center px-4 py-16",dir:"rtl"},O={class:"w-full max-w-3xl rounded-[3rem] border border-white/5 bg-slate-900/80 shadow-[0_20px_60px_rgba(15,23,42,0.5)] backdrop-blur"},U={class:"flex flex-col items-center gap-3 px-10 pb-10 pt-14 text-center"},X={class:"rounded-full bg-white/5 px-3 py-1 text-xs font-medium text-slate-300"},q={class:"text-3xl font-bold text-white"},J={class:"max-w-xl text-sm text-slate-400"},K=e("div",{class:"border-t border-white/10"},null,-1),Q={class:"space-y-6 p-10 text-sm text-slate-300"},W={class:"leading-7 tracking-wide"},Y={class:"flex flex-wrap items-center gap-4 rounded-2xl bg-slate-900/70 p-5 text-xs text-slate-300 shadow-inner shadow-black/40"},ee={class:"flex items-start gap-3"},te=e("div",{class:"space-y-1 text-left text-slate-300"},[e("p",{class:"font-semibold text-white"}," زمان بررسی دوباره "),e("p",null,"اگر وضعیت نامعلوم بود چند دقیقه صبر کنید و دوباره امتحان کنید.")],-1),se={class:"flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-slate-200"},ae=e("span",null,"در صورت تأیید پرداخت، وضعیت به‌طور خودکار به‌روزرسانی می‌شود.",-1),le={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4"},ne=["disabled"],oe={class:"rounded-b-[3rem] border-t border-white/10 bg-black/40 px-10 py-6 text-xs text-slate-500"},re={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between sm:gap-2"},ie={class:"flex items-center gap-2 text-slate-400"},ce=e("span",null,"نمای کلی وضعیت پرداخت",-1),de={class:"flex flex-wrap items-center gap-2 text-xs"},he=I({__name:"vaziat-pardakht",props:{initialStatus:{}},setup(o){const s=_(o.initialStatus??"pending"),l=_(60);let p=null;const w={pending:{title:"وضعیت پرداخت نامعلوم",subtitle:"وضعیت پرداخت هنوز مشخص نشده است. لطفاً چند دقیقه دیگر دوباره بررسی کنید.",description:"تأیید پرداخت ممکن است تا پنج دقیقه زمان ببرد. می‌توانید وضعیت پرداخت را از مسیر تنظیمات ← وضعیت بسته مشاهده کنید. در صورت کسر مبلغ، طی ۷۲ ساعت مبلغ به حساب شما بازگردانده می‌شود.",primaryCta:"بررسی مجدد",secondaryCta:"بازگشت به صفحه‌ی کاربری",pill:"در انتظار تأیید",icon:B,iconBg:"bg-gradient-to-br from-yellow-500/90 to-amber-500/80 text-yellow-50"},success:{title:"پرداخت با موفقیت انجام شد",subtitle:"پرداخت شما ثبت شد و دسترسی کامل فعال گردید. از لحظه‌ی فعلی می‌توانید از بسته جدید استفاده کنید.",description:"تمام قابلیت‌های بسته همین حالا برای شما فعال است. رسید پرداخت به ایمیل ثبت‌شده ارسال شد. در صورت نیاز به پشتیبانی می‌توانید از طریق تیکت درون‌برنامه‌ای با ما در ارتباط باشید.",primaryCta:"ورود به داشبورد",secondaryCta:"دانلود رسید پرداخت",pill:"پرداخت موفق",icon:k,iconBg:"bg-gradient-to-br from-emerald-500 to-teal-500 text-white"},failed:{title:"پرداخت ناموفق بود",subtitle:"پرداخت انجام نشد. لطفاً کارت بانکی یا موجودی خود را بررسی کرده و دوباره تلاش کنید.",description:"بانک مبلغی را کسر نکرده یا تراکنش به دلیل خطای امنیتی رد شده است. اگر مبلغی از حساب شما کم شده باشد، طی ۷۲ ساعت آینده به صورت خودکار باز می‌گردد.",primaryCta:"پرداخت دوباره",secondaryCta:"بازگشت به صفحه روش‌های پرداخت",pill:"پرداخت ناموفق",icon:S,iconBg:"bg-gradient-to-br from-rose-500 to-pink-500 text-white"}},Z=[{key:"pending",label:"نامعلوم",icon:B,iconColor:"text-yellow-300"},{key:"success",label:"موفق",icon:k,iconColor:"text-emerald-300"},{key:"failed",label:"ناموفق",icon:S,iconColor:"text-rose-300"}],r=b(()=>w[s.value]),M=b(()=>s.value==="pending"?`بررسی مجدد (در ${l.value.toString().padStart(2,"0")} ثانیه دیگر)`:w[s.value].primaryCta),z=t=>t===s.value?"flex items-center gap-2 rounded-full border-transparent bg-white text-slate-900 shadow shadow-white/30 px-4 py-2":"flex items-center gap-2 rounded-full border border-slate-500/20 bg-transparent px-4 py-2 text-slate-300",d=()=>{p!==null&&(clearInterval(p),p=null)},m=()=>{s.value==="pending"&&(d(),l.value=60,p=H(()=>{l.value-=1,l.value<=0&&(d(),g())},1e3))},L=async()=>{try{const t=await fetch("/api/payment-status",{method:"GET"});if(!t.ok)return null;const x=await t.json();return x.status==="success"?"success":x.status==="failed"?"failed":null}catch(t){return console.error("خطا در بررسی وضعیت پرداخت",t),null}},g=async()=>{const t=await L();if(t==="success"){s.value="success",d();return}if(t==="failed"){s.value="failed",d();return}s.value==="pending"&&m()},A=async()=>{s.value==="pending"&&l.value===0&&await g()},$=()=>{};return V(()=>{s.value==="pending"?m():l.value=0}),j(()=>{d()}),D(s,t=>{t!=="pending"&&(d(),l.value=0)}),(t,x)=>(a(),n("div",F,[e("section",G,[e("div",O,[e("header",U,[(a(),y(C(r.value.icon),{class:h(["size-20 rounded-full border border-white/10 p-5",r.value.iconBg])},null,8,["class"])),e("span",X,i(r.value.pill),1),e("h1",q,i(r.value.title),1),e("p",J,i(r.value.subtitle),1)]),K,e("div",Q,[e("p",W,i(r.value.description),1),e("div",Y,[e("div",ee,[f(v(R),{class:"size-9 rounded-full bg-white/5 p-2 text-yellow-300"}),te]),e("div",se,[f(v(T),{class:"size-4 text-yellow-200"}),ae])]),e("div",le,[e("button",{class:"flex-1 rounded-2xl bg-gradient-to-l from-slate-200 via-white to-slate-100 px-6 py-3 text-center text-sm font-semibold text-slate-900 shadow shadow-white/40 transition-all duration-300 hover:-translate-y-0.5 hover:brightness-105 disabled:cursor-not-allowed disabled:opacity-70",disabled:s.value==="pending"&&l.value>0,onClick:A},i(M.value),9,ne),e("button",{class:"flex-1 rounded-2xl border border-white/20 bg-transparent px-6 py-3 text-center text-sm font-semibold text-white transition-all duration-300 hover:-translate-y-0.5 hover:border-white/40",onClick:$},i(r.value.secondaryCta),1)])]),e("footer",oe,[e("div",re,[e("div",ie,[f(v(P),{class:"size-4"}),ce]),e("div",de,[(a(),n(E,null,N(Z,u=>e("div",{key:u.key,class:h(z(u.key)),"aria-hidden":"true"},[(a(),y(C(u.icon),{class:h(["size-4",u.iconColor])},null,8,["class"])),e("span",null,i(u.label),1)],2)),64))])])])])])]))}});export{he as default};
